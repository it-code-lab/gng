var the={uploadedFiles:null,captcha:null,OrderList_LclJson:null,firstIndexItemId:11};function any(e,t){return e||t}function readFileAsync(e){return new Promise((t,o)=>{const n=new FileReader;n.onload=(e=>{t(e.target.result)}),n.onerror=(e=>o(e)),n.readAsText(e)})}function locations(e,t){for(var o=[],n=-1;(n=t.indexOf(e,n+1))>=0;)o.push(n);return o}function twoPairsMatch(e,t){var o=e.split(" "),n=t.split(" ");return o[0].trim()==n[0].trim()&&o[1].trim()==n[1].trim()}function autocomplete(e,t){var o;function n(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}(e),o>=e.length&&(o=0),o<0&&(o=e.length-1),e[o].classList.add("autocomplete-active")}function i(t){for(var o=document.getElementsByClassName("autocomplete-items"),n=0;n<o.length;n++)t!=o[n]&&t!=e&&o[n].parentNode.removeChild(o[n])}e.addEventListener("input",function(n){var d,a,r,l,s=this.value;if(i(),!s)return!1;for(o=-1,(d=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),d.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(d),r=0;r<t.length;r++)(l=t[r].toUpperCase().indexOf(s.toUpperCase()))>-1&&((a=document.createElement("DIV")).innerHTML=t[r].substr(0,l),a.innerHTML+="<strong>"+t[r].substr(l,s.length)+"</strong>",a.innerHTML+=t[r].substr(l+s.length),a.innerHTML+="<input type='hidden' value='"+t[r]+"'>",a.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,i(),populateSubCategory()}),d.appendChild(a))}),e.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("div")),40==e.keyCode?(o++,n(t)):38==e.keyCode?(o--,n(t)):13==e.keyCode&&(e.preventDefault(),o>-1&&t&&t[o].click())}),document.addEventListener("click",function(e){i(e.target)})}function showMyOrders(){tags=JSON.parse(localStorage.getItem("orderList"));var e=sessionStorage.getItem("userEmail");$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getOrderList",customeremail:e}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){localStorage.setItem("orderList",JSON.stringify(e)),populateOrders()},error:function(e,t,o){console.log(o),console.log(e)}})}function showMdaOrders(){if("n"!=sessionStorage.getItem("userLoggedIn")&&"9"==sessionStorage.getItem("userLvl")){tags=JSON.parse(localStorage.getItem("mdaOrderList"));var e=sessionStorage.getItem("userEmail");$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getMdaOrderList",customeremail:e}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){localStorage.setItem("mdaOrderList",JSON.stringify(e)),getMdaItems(),populateMdaOrders()},error:function(e,t,o){console.log(o),console.log(e)}})}}function showMdaItems(){if("n"!=sessionStorage.getItem("userLoggedIn")&&"9"==sessionStorage.getItem("userLvl")){tags=JSON.parse(localStorage.getItem("mdaItemList"));var e=sessionStorage.getItem("userEmail");$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getMdaItemsList",customeremail:e}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){localStorage.setItem("mdaItemList",JSON.stringify(e)),populateMdaItemList()},error:function(e,t,o){console.log(o),console.log(e)}})}}function getMdaItems(){if("n"!=sessionStorage.getItem("userLoggedIn")&&"9"==sessionStorage.getItem("userLvl")){tags=JSON.parse(localStorage.getItem("mdaItemList"));var e=sessionStorage.getItem("userEmail");$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getMdaItemsList",customeremail:e}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){localStorage.setItem("mdaItemList",JSON.stringify(e))},error:function(e,t,o){console.log(o),console.log(e)}})}}function showImage(e){var t=e.target,o=t.dataset.itemid,n=t.dataset.imageelementid,i=document.getElementById(n+o);i.src=URL.createObjectURL(e.target.files[0]),i.onload=function(){URL.revokeObjectURL(i.src)}}function showArtImage(e){var t=e.target,o=t.dataset.imageid,n=t.dataset.imageelementid,i=document.getElementById(n+o);i.src=URL.createObjectURL(e.target.files[0]),i.onload=function(){URL.revokeObjectURL(i.src)}}function uploadFile(e){if("n"!=sessionStorage.getItem("userLoggedIn"))if("9"==sessionStorage.getItem("userLvl")){var t=e.target,o=t.dataset.fileelementid,n=t.dataset.saveasnameelementid,i=t.dataset.itemid,d=document.getElementById(n+i).value;d=(d=d.trim()).toLowerCase(),"image-"==n&&("front"==t.dataset.facing?d+="_front.png":d+="_back.png");var a=t.dataset.errormsgelementid;(d=(d=d.trim()).toLowerCase()).includes(".png")||(d+=".png");var r=document.getElementById(o+i).files;if(r.length>0){var l=new FormData;l.append("file",r[0]),l.append("saveasname",d),l.append("dir","img");var s=new XMLHttpRequest;s.open("POST","php/upload.php",!0),s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;document.getElementById(a+i).innerHTML="<font color = #0000>"+e+"</font> "}},s.send(l)}else alert("Please select a file")}else error_message="Not authorized";else error_message="Not authorized"}function uploadArtFile(e){if("n"!=sessionStorage.getItem("userLoggedIn"))if("9"==sessionStorage.getItem("userLvl")){var t=e.target,o=t.dataset.fileelementid,n=t.dataset.saveasnameelementid,i=t.dataset.imageid,d=document.getElementById(n+i).value;d=(d=d.trim()).toLowerCase();var a=t.dataset.errormsgelementid;(d=(d=d.trim()).toLowerCase()).includes(".png")||(d+=".png");var r=document.getElementById(o+i).files;if(r.length>0){var l=new FormData;l.append("file",r[0]),l.append("saveasname",d),l.append("dir","imgart");var s=new XMLHttpRequest;s.open("POST","php/upload.php",!0),s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.responseText;document.getElementById(a+i).innerHTML="<font color = #0000>"+e+"</font> "}},s.send(l)}}else error_message="Not authorized";else error_message="Not authorized"}function getItemList(){tags=JSON.parse(localStorage.getItem("itemList")),$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getItemsList"}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){var t=JSON.parse(e);the.firstIndexItemId=t[0].itemid,localStorage.setItem("itemList",JSON.stringify(e))},error:function(e,t,o){}})}function getArtList(){tags=JSON.parse(localStorage.getItem("artList")),null!=tags&&""!=tags||$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getArtList"}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){localStorage.setItem("artList",JSON.stringify(e))},error:function(e,t,o){}})}function getMdaArtList(){$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getArtList"}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){localStorage.setItem("artList",JSON.stringify(e)),showMdaArts()},error:function(e,t,o){}})}function populateOrders(){var e=JSON.parse(localStorage.getItem("orderList")),t=JSON.parse(e);if("E"!=t){for(var o="",n=0,i=0,d=0,a="",r="",l="",s="",c="",m="",u=0;u<t.length;u++){if(n=t[u].ordertotalbill,a=t[u].deliverymethod,s=t[u].orderid,c=t[u].orderdate.substring(0,10),m=t[u].deliveryaddress,"pick up"!=t[u].deliverymethod){var g=a.split("CAD ");i=n-(d=Number(g[1])),r="Shipping Address: <br>"+m,l="Ship to address"}else r="Pick Up Address: <br>825 Indica Street, Stittsville, ON, K2S2J8",l="Pick Up";if(0==u)o+="<div class='orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[u].orderid+"'>  Order Id: "+t[u].orderid+"<br>Order Date: "+t[u].orderdate.substring(0,10)+"<br>Order Total ","pick up"!=t[u].deliverymethod&&(o+="(Includes shipping)"),o+=": $"+t[u].ordertotalbill+"<br>Order Status: "+t[u].orderstatus+"<br>Message: "+t[u].ordercheckoutnotes+"<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> <div class='collapse' style= 'text-align: center;' id='table-"+t[u].orderid+"'><div style='background-color:#f8f8f8; padding: 5px; margin: 10px;'><h5>Items Ordered</h5>";else if(t[u].orderid!=t[u-1].orderid){if(n=t[u-1].ordertotalbill,a=t[u-1].deliverymethod,s=t[u-1].orderid,c=t[u-1].orderdate.substring(0,10),m=t[u-1].deliveryaddress,"pick up"!=t[u-1].deliverymethod){g=a.split("CAD ");i=n-(d=Number(g[1])),r="Shipping Address: <br>"+m,l="Ship to address"}else r="Pick Up Address: <br>825 Indica Street, Stittsville, ON, K2S2J8",l="Pick Up";"pick up"==t[u-1].deliverymethod?o+="<div class='orderTotals' style='padding: 10px 0px 10px 0px; background-color: #4E9CAF; color: #fff'>  Order Total:\tCAD "+n+"<br>  </div>":o+="<div class='orderTotals' style='padding: 10px 0px 10px 0px; background-color: #4E9CAF; color: #fff'>  Subtotal:\tCAD "+i+" <br>  Shipping: CAD "+d+"   <br>  Order Total:\tCAD "+n+"<br>  </div>",o+="</div><div style='background-color: #eeeeee; padding: 5px; margin: 10px;'><h5>Order & delivery info  </h5><div class='myOrderFlexOuter' style='display: flex; margin: 20px;  border-radius: 10px; border: 1px solid #ccc;  '>",o+="<div class='myOrderFlexIn orderNbr' style=' padding: 20px 0px 20px 0px;'>Order#"+s+" <br>Contact Email: "+t[u-1].customeremail+"<br>Delivery Method:"+l+"<br>Order date: "+c+" </div>",o+="<div class='myOrderFlexIn shipping' style=' padding: 20px 0px 20px 0px;'>"+r+"</div></div></div></div>",o+="<div class='orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[u].orderid+"'>  Order Id: "+t[u].orderid+"<br>Order Date: "+t[u].orderdate.substring(0,10)+"<br>Order Total ","pick up"!=t[u].deliverymethod&&(o+="(Includes shipping)"),o+=": $"+t[u].ordertotalbill+"<br>Order Status: "+t[u].orderstatus+"<br>Message: "+t[u].ordercheckoutnotes+"<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> <div class='collapse'  style= 'text-align: center;' id='table-"+t[u].orderid+"'><div style='background-color:#f8f8f8; padding: 5px; margin: 10px;'><h5>Items Ordered</h5>"}o+="<div class='myOrderFlexOuter' style='display: flex; margin: 20px;  border-radius: 10px; border: 1px solid #ccc; '><div class='myOrderFlexIn' >",null!=t[u].customItemCanvasDataFront&&""!=t[u].customItemCanvasDataFront&&(o+="<div style='height: 200px; width:200px; background-color: "+t[u].itemcolor+'; background-size: cover; background-repeat: no-repeat;  background-image:url("img/'+t[u].itemimage+"_front.png\") '><img style='margin-left: 0px; ' src='orderimages/"+t[u].customItemCanvasDataFront+"'/></div>"),null!=t[u].customItemCanvasDataBack&&""!=t[u].customItemCanvasDataBack&&(o+="<div style='height: 200px; width:200px; background-color: "+t[u].itemcolor+'; background-size: cover; background-repeat: no-repeat;  background-image:url("img/'+t[u].itemimage+"_back.png\") '><img style='margin-left: 0px; ' src='orderimages/"+t[u].customItemCanvasDataBack+"'/></div>"),o+="</div>",o+="<div class='myOrderFlexIn itemNamePriceQnty' style='margin: auto; padding: 10px;'>Keychain<br>Item Price: CAD "+t[u].itemprice+"<br>Qty: "+t[u].itemquantity,""!=t[u].itemnotes&&(o+="<br>Note:"+t[u].itemnotes),o+="</div></div>",u==t.length-1&&("pick up"==t[u].deliverymethod?o+="<div class='orderTotals' style='padding: 10px 0px 10px 0px; background-color: #4E9CAF; color: #fff'>  Order Total:\tCAD "+n+"<br>  </div>":o+="<div class='orderTotals' style='padding: 10px 0px 10px 0px; background-color: #4E9CAF; color: #fff'>  Subtotal:\tCAD "+i+" <br>  Shipping: CAD "+d+"   <br>  Order Total:\tCAD "+n+"<br>  </div>",o+="</div><div style='background-color: #eeeeee; padding: 5px; margin: 10px;'><h6>Order & delivery info  </h6><div class='myOrderFlexOuter' style='display: flex; margin: 20px;  border-radius: 10px; border: 1px solid #ccc;  '>",o+="<div class='myOrderFlexIn orderNbr' style=' padding: 20px 0px 20px 0px;'>Order#"+s+" <br>Contact Email: "+t[u].customeremail+"<br>Delivery Method:"+l+"<br>Order date: "+c+" </div>",o+="<div class='myOrderFlexIn shipping' style=' padding: 20px 0px 20px 0px;'>"+r+"</div></div></div></div>")}document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").innerHTML=o,document.getElementById("showOrdersDivId").style.display="block"}else alert("No orders found")}function populateOrders_backup(){var e=JSON.parse(localStorage.getItem("orderList")),t=JSON.parse(e);if("E"!=t){for(var o="",n=0;n<t.length;n++)0==n?(o+="<div class='orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[n].orderid+"'>  Order Id: "+t[n].orderid+"<br>Order Date: "+t[n].orderdate.substring(0,10)+"<br>Order Total ","pick up"!=t[n].deliverymethod&&(o+="(Includes shipping)"),o+=": $"+t[n].ordertotalbill+"<br>Order Status: "+t[n].orderstatus+"<br>Message: "+t[n].ordercheckoutnotes+"<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> <div class='collapse' id='table-"+t[n].orderid+"'><table class='table'>"):t[n].orderid!=t[n-1].orderid&&(o+="</table> <div class='addressOnMyOrders'>Customer Contact Email: "+t[n].customeremail,"pick up"==t[n-1].deliverymethod?o+="<br><br>Pickup Address: 825 Indica Street, Stittsville, ON</div></div>":o+="<br><br>Shipping Address: <br>"+t[n-1].deliveryaddress+"</div></div>",o+="<div class='orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[n].orderid+"'>  Order Id: "+t[n].orderid+"<br>Order Date: "+t[n].orderdate.substring(0,10)+"<br>Order Total ","pick up"!=t[n].deliverymethod&&(o+="(Includes shipping)"),o+=": $"+t[n].ordertotalbill+"<br>Order Status: "+t[n].orderstatus+"<br>Message: "+t[n].ordercheckoutnotes+"<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> <div class='collapse' id='table-"+t[n].orderid+"'><table class='table'>"),o+="<tr style='background-color:#FCFBFB; box-shadow: 1px 1px 2px #222222; '><td style='position: relative; padding-top:60px'><div id='itemHdrDiv' style='display:flex; flex-direction: row;'>",o+=t[n].itemname+" (Unit price = CAD "+t[n].itemprice+") </div>",""!=t[n].itemnotes&&(o+="<div>Note:"+t[n].itemnotes+"</div>"),null!=t[n].customItemCanvasDataFront&&""!=t[n].customItemCanvasDataFront&&(o+="<div style='height: 200px; width:200px; background-color: "+t[n].itemcolor+'; background-size: cover; background-repeat: no-repeat;  background-image:url("img/'+t[n].itemimage+"_front.png\") '><img style='margin-left: 0px; ' src='orderimages/"+t[n].customItemCanvasDataFront+"'/></div>"),null!=t[n].customItemCanvasDataBack&&""!=t[n].customItemCanvasDataBack&&(o+="<div style='height: 200px; width:200px; background-color: "+t[n].itemcolor+'; background-size: cover; background-repeat: no-repeat;  background-image:url("img/'+t[n].itemimage+"_back.png\") '><img style='margin-left: 0px; ' src='orderimages/"+t[n].customItemCanvasDataBack+"'/></div>"),o+="Quanitity: "+t[n].itemquantity+"</td></tr>",n==t.length-1&&(o+="</table> <div class='addressOnMyOrders'>Customer Contact Email: "+t[n].customeremail,"pick up"==t[n].deliverymethod?o+="<br><br>Pickup Address: 825 Indica Street, Stittsville, ON</div></div>":o+="<br><br>Shipping Address: <br>"+t[n].deliveryaddress+"</div></div>");document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").innerHTML=o,document.getElementById("showOrdersDivId").style.display="block"}else alert("No orders found")}function populateMdaOrders(){for(var e=JSON.parse(localStorage.getItem("mdaOrderList")),t=JSON.parse(e),o="",n=0;n<t.length;n++)0==n?(o+="<div class='"+t[n].orderstatus+"-order orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[n].orderid+"'>  Customer Email: "+t[n].customeremail+"<br> Order Id: "+t[n].orderid+"<br>Order Date: "+t[n].orderdate.substring(0,10)+"<br>Order Total ","pick up"!=t[n].deliverymethod&&(o+="(Includes shipping)"),o+=": $"+t[n].ordertotalbill+"<br>Order Status: "+t[n].orderstatus+"<br>Message: "+t[n].ordercheckoutnotes+"<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> <div class='collapse' id='table-"+t[n].orderid+"'><table class='table'>"):t[n].orderid!=t[n-1].orderid&&(o+="</table><div class='addressOnMyOrders'><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Customer Information</div>Customer Name: <br><input type='text'  id='customername-"+t[n-1].orderid+"' style='width:95%; margin:auto;' value='"+t[n-1].customername+"'><br>Customer Email: <br><input type='text' id='customeremail-"+t[n-1].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n-1].customeremail+"'></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Order Amount and Payment</div>Order Amount (CAD): <br><input type='text' id='ordertotalbill-"+t[n-1].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n-1].ordertotalbill+"'><br><br>Payment Amount Received:(Decimal Amount e.g. 10.00) <br><input type='text' id='paymentamountreceived-"+t[n-1].orderid+"' style='width:95%; margin:auto;' value='"+t[n-1].paymentamountreceived+"'><br><br>Payment Method Used: <br><input type='text' id='paymentmethod-"+t[n-1].orderid+"' style='width:95%; margin:auto;' value='"+t[n-1].paymentmethod+"'><br><br>Payment Id: <br><input type='text' id='paymentid-"+t[n-1].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n-1].paymentid+"'><br><br>Payment Date:(yyyy-mm-dd) <br><input type='text' id='paymentdate-"+t[n-1].orderid+"' style='width:95%; margin:auto;' value='"+t[n-1].paymentdate+"'></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Shipping/Pick Up</div>Shipping Method: <br><input type='text' id='deliverymethod-"+t[n-1].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n-1].deliverymethod+"'><br><br>Shipping Address: (Add tracking if available -with line break characters before and after Tracking:-, at the bottom when item is shipped. This will be emailed in the status update email.)<br><textarea class='span2 fullWidth' id='deliveryaddress-"+t[n-1].orderid+"' style='width:95%; ' rows='4' cols='8'>"+t[n-1].deliveryaddress+"</textarea><br></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Order Status</div><div style='border:1px solid #333; border-radius: 5px; width:95%; padding: 5px; font-size: 12px; text-align: justify; text-justify: inter-word; background-color: #ecf1f1' >When payment is received mark the order status as Open. <br><br>When the item is ready to be picked up, or order is shipped (Add tracking details if available, at the bottom of shipping address above), change the status to Ready To Pick Up or Order Shipped and click on send email button. This action will send email to the user in addition to saving the changes.<br><br>When the item is picked up, mark the order status as Closed.</div><br>Order Status:(Received/Open/Ready To Pick Up/Order Shipped/Cancelled/Closed)<br><input type='text' id='orderstatus-"+t[n-1].orderid+"' style='width:95%; margin:auto;' value='"+t[n-1].orderstatus+"'><br><br>Order Status Update Note: <br><textarea class='span2 fullWidth' id='orderstatusupdatenotes-"+t[n-1].orderid+"' style='width:95%; ' rows='4' cols='8'>"+t[n-1].orderstatusupdatenotes+"</textarea><br></div><label id='updateordererrormsg-"+t[n-1].orderid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><div class = 'saveChangesDivCls'><button  type='button' class='btn btn-primary' onclick=updateOrder('"+t[n-1].orderid+"','n') >Save</button><button   type='button' class='btn btn-primary' onclick=updateOrder('"+t[n-1].orderid+"','y') >Save & Send Email</button></div><br></div></div>",o+="<div class='"+t[n].orderstatus+"-order orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[n].orderid+"'>  Customer Email: "+t[n].customeremail+"<br> Order Id: "+t[n].orderid+"<br>Order Date: "+t[n].orderdate.substring(0,10)+"<br>Order Total ","pick up"!=t[n].deliverymethod&&(o+="(Includes shipping)"),o+=": $"+t[n].ordertotalbill+"<br>Order Status: "+t[n].orderstatus+"<br>Message: "+t[n].ordercheckoutnotes+"<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> <div class='collapse' id='table-"+t[n].orderid+"'><table class='table'>"),o+="<tr style='background-color:#FCFBFB; box-shadow: 1px 1px 2px #222222; '><td style='position: relative; padding-top:60px'><div id='itemHdrDiv' style='display:flex; flex-direction: row;'>",o+=t[n].itemname+" (Unit price = CAD "+t[n].itemprice+") </div>",""!=t[n].itemnotes&&(o+="<div>"+t[n].questionforaddnote+"<br>Note:"+t[n].itemnotes+"</div>"),null!=t[n].customItemCanvasDataFront&&""!=t[n].customItemCanvasDataFront&&(o+="<div style='height: 400px; width:400px; background-color: "+t[n].itemcolor+'; background-size: cover; background-repeat: no-repeat;  background-image:url("img/'+t[n].itemimage+"_front.png\") '><img style='margin-left: 0px; ' src='orderimages/"+t[n].customItemCanvasDataFront+"'/></div>",o+="Image link: (For better quality image, click load on canvas below and then click on PRINT button) <a href='orderimages/"+t[n].customItemCanvasDataFront+"' download>Download</a> <br> "),null!=t[n].customItemCanvasDataBack&&""!=t[n].customItemCanvasDataBack&&(o+="<div style='height: 400px; width:400px; background-color: "+t[n].itemcolor+'; background-size: cover; background-repeat: no-repeat;  background-image:url("img/'+t[n].itemimage+"_back.png\") '><img style='margin-left: 0px; ' src='orderimages/"+t[n].customItemCanvasDataBack+"'/></div>",o+="Image link: (For better quality image, click load on canvas below and then click on PRINT button) <a href='orderimages/"+t[n].customItemCanvasDataBack+"' download>Download</a> <br> "),o+="Quanitity: "+t[n].itemquantity+"<br>",o+="<br><input type='button' value='Load Order on Canvas' data-canvasfrontstring='"+t[n].canvasfrontstring+"'  data-canvasbackstring = '"+t[n].canvasbackstring+"'   data-itemcolor='"+t[n].itemcolor+"'  data-itemid='"+t[n].itemid+"' data-imgsrc='order' onclick='loadTemplateItemOnCanvas(event);'  > <br>",o+="</td></tr>",n==t.length-1&&(o+="</table><div class='addressOnMyOrders'><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Customer Information</div>Customer Name: <br><input type='text'  id='customername-"+t[n].orderid+"' style='width:95%; margin:auto;' value='"+t[n].customername+"'><br>Customer Email: <br><input type='text' id='customeremail-"+t[n].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n].customeremail+"'></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Order Amount and Payment</div>Order Amount (CAD): <br><input type='text' id='ordertotalbill-"+t[n].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n].ordertotalbill+"'><br><br>Payment Amount Received:(Decimal Amount e.g. 10.00) <br><input type='text' id='paymentamountreceived-"+t[n].orderid+"' style='width:95%; margin:auto;' value='"+t[n].paymentamountreceived+"'><br><br>Payment Method Used: <br><input type='text' id='paymentmethod-"+t[n].orderid+"' style='width:95%; margin:auto;' value='"+t[n].paymentmethod+"'><br><br>Payment Id: <br><input type='text' id='paymentid-"+t[n].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n].paymentid+"'><br><br>Payment Date:(yyyy-mm-dd) <br><input type='text' id='paymentdate-"+t[n].orderid+"' style='width:95%; margin:auto;' value='"+t[n].paymentdate+"'></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Shipping/Pick Up</div>Shipping Method: <br><input type='text' id='deliverymethod-"+t[n].orderid+"' style='width:95%; margin:auto;' readonly value='"+t[n].deliverymethod+"'><br><br>Shipping Address: (Add tracking if available -with line break characters before and after Tracking:-, at the bottom when item is shipped. This will be emailed in the status update email.)<br><textarea class='span2 fullWidth' id='deliveryaddress-"+t[n].orderid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].deliveryaddress+"</textarea><br></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Order Status</div><div style='border:1px solid #333; border-radius: 5px; width:95%; padding: 5px; font-size: 12px; text-align: justify; text-justify: inter-word; background-color: #ecf1f1' >When payment is received mark the order status as Open. <br><br>When the item is ready to be picked up, or order is shipped (Add tracking details if available, at the bottom of shipping address above), change the status to Ready To Pick Up or Order Shipped and click on send email button. This action will send email to the user in addition to saving the changes.<br><br>When the item is picked up, mark the order status as Closed.</div><br>Order Status:(Received/Open/Ready To Pick Up/Order Shipped/Cancelled/Closed)<br><input type='text' id='orderstatus-"+t[n].orderid+"' style='width:95%; margin:auto;' value='"+t[n].orderstatus+"'><br><br>Order Status Update Note: <br><textarea class='span2 fullWidth' id='orderstatusupdatenotes-"+t[n].orderid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].orderstatusupdatenotes+"</textarea><br></div><label id='updateordererrormsg-"+t[n].orderid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><div class = 'saveChangesDivCls'><button  type='button' class='btn btn-primary' onclick=updateOrder('"+t[n].orderid+"','n') >Save</button><button   type='button' class='btn btn-primary' onclick=updateOrder('"+t[n].orderid+"','y') >Save & Send Email</button></div><br></div></div>");document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").innerHTML=o,document.getElementById("showOrdersDivId").style.display="block"}function populateMdaItemList(){var e=JSON.parse(localStorage.getItem("mdaItemList")),t=JSON.parse(e),o="";o="<button  style='float: right' type='button' class='btn btn-primary' onclick=updateItem('','y') >Add New Item</button>";for(var n=0;n<t.length;n++)o+="<div class=' currentlyoffereditem-"+t[n].currentlyoffered+" orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[n].itemid+"' style='padding-bottom: 30px;'>  Name: "+t[n].itemname+"<br> Category: "+t[n].category+"<br>price: $"+t[n].price,o+="<div style='height: 200px; width:200px; border-radius:5px; background-size: cover; background-repeat: no-repeat; background-color:#fff;  background-image:url(\"img/"+t[n].thumbnailimage+"\") '></div>",o+="<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> <div class='collapse' id='table-"+t[n].itemid+"'><table class='table'>",o+="<tr style='background-color:#FCFBFB; box-shadow: 1px 1px 2px #222222; '><td style='position: relative; padding-top:60px'>",o+="</td></tr>",o+="</table><div class='addressOnMyOrders'><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Name and Description</div>Name: <br><input type='text'  id='itemname-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].itemname+"'><br><br>Item Description: <br>(This will be displayed on the product page)<br><textarea class='span2 fullWidth' id='itemdesc-"+t[n].itemid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].itemdesc+"</textarea><br><br>Item Short Description: <br>(This will be displayed on image flip)<br><textarea class='span2 fullWidth' id='itemshortdesc-"+t[n].itemid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].itemshortdesc+"</textarea><br><br>Master Item Id: <br>(Will be used to manage inventory-Usually item id of first item created of that product type)<br><input type='text' id='masteritemid-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].masteritemid+"'><br><br>Item Sort Order Id: <br>(Used to order the item display in a category)<br><input type='text' id='itemsortorderid-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].itemsortorderid+"'><br><br>Category Sort Order Id: <br>(Used to order the category display. All items under a category will have same category sort order id)<br><input type='text' id='categorysortorderid-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].categorysortorderid+"'><br><br>Vinyl Type: <br>(Select from Permanent/HTV/Removable :Used to display color options)<br><input type='text' id='vinyltype-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].vinyltype+"'></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Availability and Pricing</div>Available for purchase: (1 for yes, 0 for no) <br><input type='text' id='currentlyoffered-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].currentlyoffered+"'><br><br>Price: (Decimal. E.g. 30.0) <br><input type='text' id='price-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].price+"'><br><br>Shipping-Bubble Mailer: (Decimal. E.g. 8.0) <br><input type='text' id='shipbubble-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].shipbubble+"'><br><br>Shipping-Regular: (Decimal. E.g. 8.0) <br><input type='text' id='shipreg-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].shipreg+"'><br><br>Shipping-Expedited: (Decimal. E.g. 8.0) <br><input type='text' id='shipexped-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].shipexped+"'><br><br>Shipping-Priority: (Decimal. E.g. 8.0) <br><input type='text' id='shippriority-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].shippriority+"'><br><br>Shipping Weight (Max of actual weight and volumetric weight in Kg. https://www.canadapost-postescanada.ca/cpc/doc/en/support/customer-guide/amalgamated-parcel-services-guide.pdf): (Decimal. E.g. 8.0) <br><input type='text' id='shipweightkg-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].shipweightkg+"'></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Classification and search keywords</div>Category: <br><input type='text' id='category-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].category+"'><br><br>Subcategory: <br><input type='text' id='subcategory-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].subcategory+"'><br><br>Search Keywords: <br>(In addition to item name, category, sub category)<br><input type='text' id='keyword-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].keyword+"'></div>",o+="<div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Thumbnail and Display Images</div>Thumbnail Image:(e.g. myimage.png)<input type='text' id='thumbnailimage-"+t[n].itemid+"' style='width:95%; margin:auto;'  value='"+t[n].thumbnailimage+"'><br><img id='thumbnailimage-src-replace-"+t[n].itemid+"' src='img/"+t[n].thumbnailimage+"' style='width: 200px; height: 200px; background-color: white;' alt='Image not available' /><br><input type='file'  id='thumbnailimage-replace-"+t[n].itemid+"' data-itemid = '"+t[n].itemid+"'   data-imageelementid='thumbnailimage-src-replace-' onchange='showImage(event)'><br><label id='thumbnailimage-ererrormsg-"+t[n].itemid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><br><input type='button' value='Upload New Image' data-errormsgelementid='thumbnailimage-ererrormsg-' data-saveasnameelementid='thumbnailimage-' data-fileelementid='thumbnailimage-replace-' data-itemid = '"+t[n].itemid+"' onclick='uploadFile(event);'  >",o+="<br><br>Are there two images for the item:(type 1 for yes, or 0 for no) <br><input type='text' id='hasmultipleimages-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].hasmultipleimages+"'><br><br>Image Name: (Without _front.png/_back.png) <br><input type='text' id='image-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].image+"'><br><br> Front Image:(Image should be about square size min 600px X 600px)<br><img  id='itemfrontimage-src-replace-"+t[n].itemid+"' src='img/"+t[n].image+"_front.png' style='width: 200px; height: 200px; background-color: white;' alt='Image not available' /><br>Replace Front Image:<br><input type='file'  id='itemfrontimage-replace-"+t[n].itemid+"' data-itemid = '"+t[n].itemid+"'   data-imageelementid='itemfrontimage-src-replace-' onchange='showImage(event)'><br><label id='itemfrontimage-ererrormsg-"+t[n].itemid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><br><input type='button' value='Upload New Image' data-errormsgelementid='itemfrontimage-ererrormsg-' data-facing='front' data-saveasnameelementid='image-' data-fileelementid='itemfrontimage-replace-' data-itemid = '"+t[n].itemid+"' onclick='uploadFile(event);'  ><br><br>Back Image:(Image should be about square size min 600px X 600px) <br><img id='itembackimage-src-replace-"+t[n].itemid+"' src='img/"+t[n].image+"_back.png' style='width: 200px; height: 200px; background-color: white;' alt='Image not available' /><br>Replace Back Image:<br><input type='file'  id='itembackimage-replace-"+t[n].itemid+"' data-itemid = '"+t[n].itemid+"'   data-imageelementid='itembackimage-src-replace-' onchange='showImage(event)'><br><label id='itembackimage-ererrormsg-"+t[n].itemid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><br><input type='button' value='Upload New Image' data-errormsgelementid='itembackimage-ererrormsg-' data-facing='back' data-saveasnameelementid='image-' data-fileelementid='itembackimage-replace-' data-itemid = '"+t[n].itemid+"' onclick='uploadFile(event);'  ></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Quantities Available</div><div style='border:1px solid #333; border-radius: 5px; width:95%; padding: 5px; font-size: 12px; text-align: justify; text-justify: inter-word; background-color: #ecf1f1' >Quanitity remaining gets updated dynamically based on number of items ordered. <br><br>Update initial quantity = Current IQ - Current QR + Actually avaiable.<br><br> Then update Quanitity Remaining to actually available.</div><br>Quanitity Remaining (QR): <br><input type='text' id='quantitiesremaining-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].quantitiesremaining+"'><br>Initial Quanitity (IQ): <br><input type='text' id='quantityinitial-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].quantityinitial+"'></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Customizations Allowed</div><br>Allow custom text: <br>(1 for yes/0 for no) <br><input type='text' id='allowcustomtext-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].allowcustomtext+"'><br><br>Allow add art: <br>(1 for yes/0 for no) <br><input type='text' id='allowaddart-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].allowaddart+"'><br><br>Allow custom image: <br>(1 for yes/0 for no) <br><input type='text' id='allowcustomimage-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].allowcustomimage+"'><br><br>Allow custom note: <br>(1 for yes/0 for no) <br><input type='text' id='allowcustomnote-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].allowcustomnote+"'><br><br>Color Options: <br>(Sample: #FFFF00-Yellow;#FFFFFF-White) <br>Leave blank if no colors applicable.<br><textarea class='span2 fullWidth' id='coloroptions-"+t[n].itemid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].coloroptions+"</textarea></div><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Additional Information to gather from buyer</div><br>Question/Instruction for Additional Information Required: <br>(Leave blank if not applicable)<br><textarea class='span2 fullWidth' id='questionforaddnote-"+t[n].itemid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].questionforaddnote+"</textarea><br><br>Fields for which data is needed in response: <br>(Seperate the fields by ;) <br> Leave blank if not applicable<br><textarea class='span2 fullWidth' id='userinputsrequired-"+t[n].itemid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].userinputsrequired+"</textarea><br><br>Cricut Design Size Factor: <br>(Decimal number to muliply the size so that impage is cut right size in Cricut design space) <br><input type='text' id='cridesignsizefactor-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].cridesignsizefactor+"'><br>Canvas front string: <br>(To be used for template items) <br><input type='text' id='canvasfrontstring-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].canvasfrontstring+"'><br>Canvas back string: <br>(To be used for template items) <br><input type='text' id='canvasbackstring-"+t[n].itemid+"' style='width:95%; margin:auto;' value='"+t[n].canvasbackstring+"'></div><label id='updateitemerrormsg-"+t[n].itemid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><div class = 'saveChangesDivCls'><button  type='button' class='btn btn-primary' onclick=updateItem('"+t[n].itemid+"','n') >Save Changes</button><button   type='button' class='btn btn-primary' onclick=updateItem('"+t[n].itemid+"','y') >Save As New Item</button></div><br></div></div>";document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").innerHTML=o,document.getElementById("showOrdersDivId").style.display="block"}function showMdaArts(){var e=JSON.parse(localStorage.getItem("artList")),t=JSON.parse(e),o="";o="<button  style='float: right' type='button' class='btn btn-primary' onclick=updateArt('','y') >Add New Art Item</button>";for(var n=0;n<t.length;n++)o+="<div class=' currentlyoffereditem-"+t[n].imageoffered+" orderIdHdrDivCls' data-toggle='collapse' data-target='#table-"+t[n].imageid+"' style='padding-bottom: 30px;'>  Name: "+t[n].imagedisplayname+"<br> Category: "+t[n].imagecategory+"<br>Subcategory: "+t[n].imagesubcategory,o+="<div style='height: 100px; width:100px; border-radius:5px; background-size: cover; background-repeat: no-repeat; background-color:#fff;  background-image:url(\"imgart/"+t[n].imagefilename+"\") '></div>",o+="<i style='font-size:18px; float: right;' class='fa'>&#xf0b2;</i></div> ",o+="<div class='collapse' id='table-"+t[n].imageid+"'>",o+="<table class='table'><tr style='background-color:#FCFBFB; box-shadow: 1px 1px 2px #222222; '><td style='position: relative; padding-top:60px'>",o+="</td></tr></table>",o+="<div class='addressOnMyOrders'><div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>DETAILS</div>Name: <br><input type='text'  id='imagedisplayname-"+t[n].imageid+"' style='width:95%; margin:auto;' value='"+t[n].imagedisplayname+"'><br><br>Item Category:<br><input type='text'  id='imagecategory-"+t[n].imageid+"' style='width:95%; margin:auto;' value='"+t[n].imagecategory+"'><br><br>Sub Category:<br><input type='text'  id='imagesubcategory-"+t[n].imageid+"' style='width:95%; margin:auto;' value='"+t[n].imagesubcategory+"'><br><br>Additional Info:<br><textarea class='span2 fullWidth' id='additionalinfo-"+t[n].imageid+"' style='width:95%; ' rows='4' cols='8'>"+t[n].additionalinfo+"</textarea><br><br>Currently Offered: (1 for yes/ 0 for no)<br><input type='text'  id='imageoffered-"+t[n].imageid+"' style='width:95%; margin:auto;' value='"+t[n].imageoffered+"'></div>",o+="<div class='itemInfoDisplayDivCls'> <div class='categoryHeader'>Image</div>Image:(e.g. myimage.png)<input type='text' id='imagefilename-"+t[n].imageid+"' style='width:95%; margin:auto;'  value='"+t[n].imagefilename+"'><br><img id='imagefilename-src-replace-"+t[n].imageid+"' src='imgart/"+t[n].imagefilename+"' style='width: 200px; height: 200px; background-color: white;' alt='Image not available' /><br><input type='file'  id='imagefilename-replace-"+t[n].imageid+"' data-imageid = '"+t[n].imageid+"'   data-imageelementid='imagefilename-src-replace-' onchange='showArtImage(event)'><br><label id='imagefilename-ererrormsg-"+t[n].imageid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><br><input type='button' value='Upload New Image' data-errormsgelementid='imagefilename-ererrormsg-' data-saveasnameelementid='imagefilename-' data-fileelementid='imagefilename-replace-' data-imageid = '"+t[n].imageid+"' onclick='uploadArtFile(event);'  >",o+="<label id='updateitemerrormsg-"+t[n].imageid+"' style='color: #cc0000; font-size: 14px; min-height: 20px;'></label><div class = 'saveChangesDivCls'><button  type='button' class='btn btn-primary' onclick=updateArt('"+t[n].imageid+"','n') >Save Changes</button><button   type='button' class='btn btn-primary' onclick=updateArt('"+t[n].imageid+"','y') >Save As New Art</button></div><br></div>",o+="</div></div></div>";document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").innerHTML=o,document.getElementById("showOrdersDivId").style.display="block"}function populateItemListInDropDown(){var e,t=JSON.parse(localStorage.getItem("itemList")),o=JSON.parse(t),n=document.getElementById("itemListDropDownId");for(e=n.options.length-1;e>=0;e--)n.remove(e);for(index in o){1==index&&(the.firstIndexItemId=o[index].itemid);var i=document.createElement("option");i.value=o[index].itemid,i.text=o[index].itemname,n.appendChild(i)}}function getOrderList(){var e=the.OrderList_LclJson;if(null==e||""==e){var t=sessionStorage.getItem("userEmail");$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getOrderList",customeremail:t}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){the.OrderList_LclJson=e},error:function(e,t,o){console.log(o),console.log(e)}})}}function showProduct(e,t,o){localStorage.setItem("curProductItem",e);if(document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("showOrdersDivId").style.display="none",myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"?product="+e,"n"!=t)return void(window.location.href=myUrl);const n=myUrl;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Code Helper",n),x=document.getElementById("productLinkId"),x.classList.remove("active"),x=document.getElementById("loginLinkId"),x.classList.remove("active"),x=document.getElementById("logoutLinkId"),x.classList.remove("active"),x=document.getElementById("contactusLinkId"),x.classList.remove("active"),x=document.getElementById("homeLinkId"),x.classList.remove("active"),x=document.getElementById("cartLinkId"),x.classList.remove("active"),x=document.getElementById("productLinkId"),x.className+=" active",showProductForItemId(e,o),window.scrollTo(0,0)}function showProductForItemId(e,t){localStorage.setItem("curProductItem",e);for(var o=JSON.parse(localStorage.getItem("itemList")),n=JSON.parse(o),i=!1,d=0;d<n.length;d++)if(n[d].itemid==e){i=!0,document.getElementById("addToCartBtnDivId").innerHTML='<button data-itemid="'+e+'" data-name="Lemon" data-price="5" class="add-to-cart btnCanvas" style="padding: 2px; height: 40px; margin-top: 5px;" onclick="addToCart(\''+e+'\')" ><i class="fa fa-cart-plus" style="font-size:24px; aria-hidden="true"></i> <span class="menu_text_two"> Add to cart</span></button>',document.getElementById("customItemDiv").style.backgroundImage="url('img/"+n[d].image+"_front.png')",null==n[d].hasmultipleimages?document.getElementById("flip").style.display="none":1==n[d].hasmultipleimages?document.getElementById("flip").style.display="block":document.getElementById("flip").style.display="none","Permanent"==n[d].vinyltype?(document.getElementById("permanentVinylColorsDiv").style.display="flex",document.getElementById("htvColorsDiv").style.display="none",document.getElementById("permanentVinylHolosDiv").style.display="flex",document.getElementById("htvVinylHolosDiv").style.display="none"):"HTV"==n[d].vinyltype&&(document.getElementById("permanentVinylColorsDiv").style.display="none",document.getElementById("htvColorsDiv").style.display="flex",document.getElementById("permanentVinylHolosDiv").style.display="none",document.getElementById("htvVinylHolosDiv").style.display="flex"),null==n[d].sizeoptionsnprice||n[d].sizeoptionsnprice,null==n[d].coloroptions?(document.getElementById("colorOptionsMenuId").style.display="none",localStorage.setItem("coloreditem","n")):""==n[d].coloroptions?(document.getElementById("colorOptionsMenuId").style.display="none",localStorage.setItem("coloreditem","n")):(document.getElementById("colorOptionsMenuId").style.display="block",localStorage.setItem("coloreditem","y")),null==n[d].allowcustomtext?document.getElementById("addTextMenuId").style.display="none":1==n[d].allowcustomtext?document.getElementById("addTextMenuId").style.display="block":document.getElementById("addTextMenuId").style.display="none",null==n[d].allowcustomnote?document.getElementById("addNoteMenuId").style.display="none":1==n[d].allowcustomnote?document.getElementById("addNoteMenuId").style.display="block":document.getElementById("addNoteMenuId").style.display="none",null==n[d].allowcustomimage?document.getElementById("uploadImageMenuId").style.display="none":1==n[d].allowcustomimage?document.getElementById("uploadImageMenuId").style.display="block":document.getElementById("uploadImageMenuId").style.display="none",null==n[d].allowaddart?document.getElementById("addArtMenuId").style.display="none":1==n[d].allowaddart?document.getElementById("addArtMenuId").style.display="block":document.getElementById("addArtMenuId").style.display="none";var a="";if(null!=n[d].coloroptions&&n[d].coloroptions.includes(";")){var r=n[d].coloroptions.split(";"),l='<ul class="nav">';for(j=0;j<r.length;j++){var s=r[j].split("-");""==a&&(a=s[0]),l=l+"<li onclick=\"setBackgroundColor('"+r[j]+'\')" class="color-preview" title="'+s[1]+'" style="background-color:'+s[0]+';"></li>'}}document.getElementById("itemPriceLabelId").innerHTML="CAD "+n[d].price,document.getElementById("add-note-string").value="",document.getElementById("addInstrDivId").innerHTML="Additional instructions",document.getElementById("itemDescDivId").innerHTML=n[d].itemdesc;var c=n[d].userinputsrequired;if(null!=c&&c.includes(";")){var m=n[d].userinputsrequired.split(";"),u="";for(k=0;k<m.length;k++)u=u+m[k]+"\r\n";document.getElementById("add-note-string").value=u,document.getElementById("addInstrDivId").innerHTML=n[d].questionforaddnote}if(l+="</ul>",l+='<br><div id="colorSelectedLblId" style="padding: 5px; height: 40px; font-size: 14px; font-weight: 400; color: #333 "></div>',document.getElementById("colorOptionDivId").innerHTML=l,"n"!=t&&""!=n[d].canvasfrontstring){e=n[d].itemid;var g=a,y=n[d].canvasfrontstring,p=n[d].canvasbackstring,I="itemcanvases/"+y;$.ajax({url:I,success:function(t){if(canvasFrontString=t,""!=p)I="itemcanvases/"+p,$.ajax({url:I,success:function(e){var t=document.getElementById("customItemDiv").offsetWidth;canvasBackString=e,canvasBackString=enlargeCanvasJson(canvasBackString,t/600),canvas.loadFromJSON(canvasFrontString),document.getElementById("customItemDiv").style.backgroundColor=g}});else{localStorage.setItem("curProductItem",e);var o=document.getElementById("customItemDiv").offsetWidth;canvasFrontString=enlargeCanvasJson(canvasFrontString,o/600),canvas.loadFromJSON(canvasFrontString),document.getElementById("customItemDiv").style.backgroundColor=g}}})}break}i?(document.getElementById("productDivId").style.display="block",document.getElementById("productDivId").style.width="100%",activateFirstDesignMenuItem()):showProduct(the.firstIndexItemId)}function toggleSubNavContent(){"block"==document.getElementById("subnav-content-div").style.display?document.getElementById("subnav-content-div").style.display="none":document.getElementById("subnav-content-div").style.display="block"}function toggleFontFamily(){"block"==document.getElementById("textFontFamily").style.display?document.getElementById("textFontFamily").style.display="none":document.getElementById("textFontFamily").style.display="block"}function showMDAProduct(e,t,o){localStorage.setItem("curProductItem",e);if(document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("showOrdersDivId").style.display="none",myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"?product="+e,"n"!=t)return void(window.location.href=myUrl);const n=myUrl;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Code Helper",n),x=document.getElementById("productLinkId"),x.classList.remove("active"),x=document.getElementById("loginLinkId"),x.classList.remove("active"),x=document.getElementById("logoutLinkId"),x.classList.remove("active"),x=document.getElementById("contactusLinkId"),x.classList.remove("active"),x=document.getElementById("homeLinkId"),x.classList.remove("active"),x=document.getElementById("cartLinkId"),x.classList.remove("active"),x=document.getElementById("productLinkId"),x.className+=" active",localStorage.setItem("curProductItem",e);var i=JSON.parse(localStorage.getItem("mdaItemList"));if(null==i||""==i){var d=sessionStorage.getItem("userEmail");$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"getMdaItemsList",customeremail:d}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(n){localStorage.setItem("mdaItemList",JSON.stringify(n)),showMDAItem(e,t,o)},error:function(e,t,o){console.log(o),console.log(e)}})}else showMDAItem(e,t,o)}function showMDAItem(e,t,o){for(var n=JSON.parse(localStorage.getItem("mdaItemList")),i=JSON.parse(n),d=!1,a=0;a<i.length;a++)if(i[a].itemid==e){d=!0,document.getElementById("addToCartBtnDivId").innerHTML='<button data-itemid="'+e+'" data-name="Lemon" data-price="5" class="add-to-cart btnCanvas" style="padding: 2px; height: 40px; margin-top: 5px;" onclick="addToCart(\''+e+'\')" ><i class="fa fa-cart-plus" style="font-size:24px; aria-hidden="true"></i> <span class="menu_text_two"> Add to cart</span></button>',document.getElementById("customItemDiv").style.backgroundImage="url('img/"+i[a].image+"_front.png')",null==i[a].hasmultipleimages?document.getElementById("flip").style.display="none":1==i[a].hasmultipleimages?document.getElementById("flip").style.display="block":document.getElementById("flip").style.display="none","Permanent"==i[a].vinyltype?(document.getElementById("permanentVinylColorsDiv").style.display="flex",document.getElementById("htvColorsDiv").style.display="none",document.getElementById("permanentVinylHolosDiv").style.display="flex",document.getElementById("htvVinylHolosDiv").style.display="none"):"HTV"==i[a].vinyltype&&(document.getElementById("permanentVinylColorsDiv").style.display="none",document.getElementById("htvColorsDiv").style.display="flex",document.getElementById("permanentVinylHolosDiv").style.display="none",document.getElementById("htvVinylHolosDiv").style.display="flex"),null==i[a].sizeoptionsnprice||i[a].sizeoptionsnprice,null==i[a].coloroptions?(document.getElementById("colorOptionsMenuId").style.display="none",localStorage.setItem("coloreditem","n")):""==i[a].coloroptions?(document.getElementById("colorOptionsMenuId").style.display="none",localStorage.setItem("coloreditem","n")):(document.getElementById("colorOptionsMenuId").style.display="block",localStorage.setItem("coloreditem","y")),null==i[a].allowcustomtext?document.getElementById("addTextMenuId").style.display="none":1==i[a].allowcustomtext?document.getElementById("addTextMenuId").style.display="block":document.getElementById("addTextMenuId").style.display="none",null==i[a].allowcustomnote?document.getElementById("addNoteMenuId").style.display="none":1==i[a].allowcustomnote?document.getElementById("addNoteMenuId").style.display="block":document.getElementById("addNoteMenuId").style.display="none",null==i[a].allowcustomimage?document.getElementById("uploadImageMenuId").style.display="none":1==i[a].allowcustomimage?document.getElementById("uploadImageMenuId").style.display="block":document.getElementById("uploadImageMenuId").style.display="none",null==i[a].allowaddart?document.getElementById("addArtMenuId").style.display="none":1==i[a].allowaddart?document.getElementById("addArtMenuId").style.display="block":document.getElementById("addArtMenuId").style.display="none";var r="";if(null!=i[a].coloroptions&&i[a].coloroptions.includes(";")){var l=i[a].coloroptions.split(";"),s='<ul class="nav">';for(j=0;j<l.length;j++){var c=l[j].split("-");""==r&&(r=c[0]),s=s+"<li onclick=\"setBackgroundColor('"+l[j]+'\')" class="color-preview" title="'+c[1]+'" style="background-color:'+c[0]+';"></li>'}}document.getElementById("itemPriceLabelId").innerHTML="CAD "+i[a].price,document.getElementById("add-note-string").value="",document.getElementById("addInstrDivId").innerHTML="Additional instructions",document.getElementById("itemDescDivId").innerHTML=i[a].itemdesc;var m=i[a].userinputsrequired;if(null!=m&&m.includes(";")){var u=i[a].userinputsrequired.split(";"),g="";for(k=0;k<u.length;k++)g=g+u[k]+"\r\n";document.getElementById("add-note-string").value=g,document.getElementById("addInstrDivId").innerHTML=i[a].questionforaddnote}if(s+="</ul>",s+='<br><div id="colorSelectedLblId" style="padding: 5px; height: 40px; font-size: 14px; font-weight: 400; color: #333 "></div>',document.getElementById("colorOptionDivId").innerHTML=s,"n"!=o&&""!=i[a].canvasfrontstring){e=i[a].itemid;var y=r,p=i[a].canvasfrontstring,I=i[a].canvasbackstring,v="itemcanvases/"+p;$.ajax({url:v,success:function(t){if(canvasFrontString=t,""!=I)v="itemcanvases/"+I,$.ajax({url:v,success:function(e){var t=document.getElementById("customItemDiv").offsetWidth;canvasBackString=e,canvasBackString=enlargeCanvasJson(canvasBackString,t/600),canvas.loadFromJSON(canvasFrontString),document.getElementById("customItemDiv").style.backgroundColor=y}});else{localStorage.setItem("curProductItem",e);var o=document.getElementById("customItemDiv").offsetWidth;canvasFrontString=enlargeCanvasJson(canvasFrontString,o/600),canvas.loadFromJSON(canvasFrontString),document.getElementById("customItemDiv").style.backgroundColor=y}}})}break}d?(document.getElementById("productDivId").style.display="block",document.getElementById("productDivId").style.width="100%",activateFirstDesignMenuItem(),window.scrollTo(0,0)):showProduct(the.firstIndexItemId)}function setBackgroundColor(e){var t=e.split("-");document.getElementById("colorSelectedLblId").innerHTML="Selected: "+t[1],document.getElementById("customItemDiv").style.backgroundColor=t[0]}function Show(e){if(onMobileBrowser()){var t=document.getElementById("myTopnav");t.className="topnav"}document.getElementById("loginDivId").style.display="none",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("addToCartModal").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").style.display="none",document.getElementById("mdaPics").style.display="none",myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"?target="+e;const o=myUrl;if(window.history.pushState({additionalInformation:"Updated the URL with JS"},"Code Helper",o),(t=document.getElementById("productLinkId")).classList.remove("active"),(t=document.getElementById("loginLinkId")).classList.remove("active"),(t=document.getElementById("logoutLinkId")).classList.remove("active"),(t=document.getElementById("contactusLinkId")).classList.remove("active"),(t=document.getElementById("homeLinkId")).classList.remove("active"),(t=document.getElementById("cartLinkId")).classList.remove("active"),(t=document.getElementById(e+"LinkId")).className+=" active","custommugs"==e)document.getElementById("productDivId").style.display="block",document.getElementById("customItemDiv").style.backgroundImage="url('img/phone_front.png')",document.getElementById("productDivId").style.width="100%";else if("product"==e){document.getElementById("productDivId").style.display="block",document.getElementById("customItemDiv").style.backgroundImage="url('img/crew_front.png')",document.getElementById("productDivId").style.width="100%";var n=localStorage.getItem("curProductItem");showProduct(null==n?the.firstIndexItemId:"null"==n?the.firstIndexItemId:n)}else"login"==e?(document.getElementById("productDivId").style.display="none",document.getElementById("loginDivId").style.display="block",document.getElementById("loginSecDivId").style.display="block",document.getElementById("registerSecDivId").style.display="none",document.getElementById("forgotPasswordSecDivId").style.display="none",document.getElementById("accActivatedDivId").style.display="none",document.getElementById("forgotPWDivId").style.display="none",document.getElementById("loginerrormsg").innerHTML=""):"contactus"==e?(document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="block",document.getElementById("contactuserrormsg").innerHTML="",refreshCaptcha()):"home"==e?(document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="block",populateItemList()):"cart"==e&&(document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="block",document.getElementById("checkOutDivId").style.display="none");window.scrollTo(0,0)}function hideMenuDetails(){document.getElementById("designMenuNOptionsDivId").style.height="0%",document.getElementById("designMenuNOptionsDivId").style.paddingTop="0px"}function ShowDesignMenu(e,t){var o=document.getElementById("designMenuNavListId").offsetWidth;o>100&&(t?(document.getElementById("designMenuNOptionsDivId").style.height="0%",document.getElementById("designMenuNOptionsDivId").style.paddingTop="0px"):(document.getElementById("designMenuNOptionsDivId").style.height="70%",document.getElementById("designMenuNOptionsDivId").style.paddingTop="40px")),document.getElementById("styleOptionsDivId").style.display="none",document.getElementById("addArtDivId").style.display="none",document.getElementById("itemDescDivId").style.display="none",document.getElementById("colorOptionDivId").style.display="none",document.getElementById("addTextDivId").style.display="none",document.getElementById("uplaodImageDivId").style.display="none",document.getElementById("addArtDivId").style.display="none",document.getElementById("addNoteDivId").style.display="none",x=document.getElementById("itemDescLinkId"),x.classList.remove("active"),x=document.getElementById("colorOptionLinkId"),x.classList.remove("active"),x=document.getElementById("addTextLinkId"),x.classList.remove("active"),x=document.getElementById("uplaodImageLinkId"),x.classList.remove("active"),x=document.getElementById("addArtLinkId"),x.classList.remove("active"),x=document.getElementById("addNoteLinkId"),x.classList.remove("active"),"addArt"==e&&displayArtCategories(),x=document.getElementById(e+"LinkId"),o<=100?x.className+=" active":t||(x.className+=" active"),document.getElementById(e+"DivId").style.display="block"}function displayArtCategories(){for(var e="",t=JSON.parse(localStorage.getItem("artList")),o=JSON.parse(t),n=0;n<o.length;n++)0==n?e+="<div class='artCategorycard' onclick='showArtUnderCatg(\""+o[n].imagecategory+"\")'> "+o[n].imagecategory+"</div>":o[n].imagecategory!=o[n-1].imagecategory&&(e+="<div class='artCategorycard' onclick='showArtUnderCatg(\""+o[n].imagecategory+"\")'> "+o[n].imagecategory+"</div>");document.getElementById("avatarListDivId").innerHTML=e,document.getElementById("addArtDivId").style.display="block"}function showArtUnderCatg(e){for(var t="",o=JSON.parse(localStorage.getItem("artList")),n=JSON.parse(o),i=0;i<n.length;i++)n[i].imagecategory==e&&"1"==n[i].imageoffered&&(t+='<img style="cursor:pointer;" onclick="addImageToCanvas(event);" class="art-img-icon" src="imgart/'+n[i].imagefilename+'">');t+="",document.getElementById("avatarListDivId").innerHTML=t,document.getElementById("addArtDivId").style.display="block"}function searchArt(){var e=document.getElementById("searchArtTextId").value.trim();e=e.toUpperCase();for(var t=JSON.parse(localStorage.getItem("artList")),o=JSON.parse(t).filter(function(t){var o=t.imagecategory;o=o.toUpperCase();var n=t.imagesubcategory;n=n.toUpperCase();var i=t.imagedisplayname;return((i=i.toUpperCase()).includes(e)||o.includes(e)||n.includes(e))&&"1"==t.imageoffered}),n="",i=o.length,d=0;d<o.length;d++)n+='<img style="cursor:pointer;" onclick="addImageToCanvas(event);" class="art-img-icon" src="imgart/'+o[d].imagefilename+'">';n+="",document.getElementById("avatarListDivId").innerHTML=n,document.getElementById("addArtDivId").style.display="block",""==e?document.getElementById("artSearchResultsLblDiv").style.display="none":(document.getElementById("artSearchResultsLblDiv").style.display="flex",document.getElementById("artSearchResultsLbl").innerHTML=0==i?"No results found":"Search results")}function searchArtEntered(){13===event.keyCode&&searchArt()}function resetArtSearch(){document.getElementById("artSearchResultsLblDiv").style.display="none",document.getElementById("searchArtTextId").value="",displayArtCategories()}function activateFirstDesignMenuItem(){var e="";"none"!=document.getElementById("itemDescMenuId").style.display?e="itemDesc":"none"!=document.getElementById("colorOptionsMenuId").style.display?e="colorOption":"none"!=document.getElementById("addTextMenuId").style.display?e="addText":"none"!=document.getElementById("addArtMenuId").style.display?e="addArt":"none"!=document.getElementById("uploadImageMenuId").style.display&&(e="uplaodImage"),ShowDesignMenu(e,!0)}function showCreateAccount(){document.getElementById("loginSecDivId").style.display="none",document.getElementById("registerSecDivId").style.display="block"}function showLogin(){document.getElementById("loginSecDivId").style.display="block",document.getElementById("registerSecDivId").style.display="none",document.getElementById("forgotPasswordSecDivId").style.display="none",document.getElementById("accActivatedDivId").style.display="none",document.getElementById("forgotPWDivId").style.display="none"}function showForgotPassword(){document.getElementById("loginSecDivId").style.display="none",document.getElementById("forgotPasswordSecDivId").style.display="block"}function listVideos(){var e=JSON.parse(sessionStorage.getItem("HowToVideos"));if(null!=e){var t=JSON.parse(e);if(!(t.length<2)){var o="";o+="<div class='videoListContainer'>",o+='<div id="prjSelectionMsg" style=" padding: 5px; text-align: justify; text-justify: inter-word; border: 1px solid #ccc; color: #f1f1f1;background: rgba(9, 84, 132, 1); margin-Bottom: 0px">How to videos</div>';for(var n=0;n<t.length;n++){o=o+"<div class='videoDescription'>"+t[n].description+"</div> <div class='videoIframeDiv'><iframe class='videoIframe' src= '"+t[n].url+"'> </iframe>"}o+="</div>",document.getElementById("howtoDivId").innerHTML=o}}}function showMobileMenu(e){}function resizeCanvas(){}function resizeCanvasX(){var e=new fabric.Canvas("tcanvas"),t=$("#drawingArea").width(),o=$("#drawingArea").height();e.setDimensions({width:t,height:o})}function checkURL(){window.location.protocol,window.location.host,window.location.pathname;var e=location.search,t=new RegExp("%20","g"),o="home";if((e=e.replace(t," ")).indexOf("passkey=")>0){activateAccount(e.split("passkey=")[1])}else{if(e.indexOf("resetkey=")>0){var n=e.split("resetkey=")[1];return sessionStorage.setItem("passwordresetkey",n),document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("addToCartModal").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").style.display="none",document.getElementById("loginDivId").style.display="block",document.getElementById("loginerrormsg").innerHTML="",document.getElementById("loginSecDivId").style.display="none",void(document.getElementById("forgotPWDivId").style.display="block")}if(e.indexOf("target=")>0)o=e.split("target=")[1];if(e.indexOf("payment_intent=")>0)return document.getElementById("showCartDivId").style.display="none",void(document.getElementById("processingPaymentDivId").style.display="block");var i="";if(e.indexOf("product=")>0)o="product",i=e.split("product=")[1];if(e.indexOf("mockup=")>0){const e=window.location.search,t=new URLSearchParams(e);var d=t.get("mockup"),a=t.get("f"),r=t.get("b"),l=t.get("bg");loadMockupItem(d,a,r,l)}else{var s="";if(e.indexOf("search=")>0)o="home",s=e.split("search=")[1];onMobileBrowser(),document.getElementById("productDivId").style.display="none",document.getElementById("loginDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("howtoDivId").style.display="none",document.getElementById("homeDivId").style.display="none","y"==localStorage.getItem("cookieAccepted")&&(document.getElementById("cookie-div-id").style.display="none");var c=getCookie("cookname");if(document.getElementById("cartLinkId").style.display="block",null==c?(sessionStorage.setItem("userLoggedIn","n"),onMobileBrowser(),document.getElementById("logoutLinkId").style.display="none"):(sessionStorage.setItem("userLvl",getCookie("cookuserLvl")),sessionStorage.setItem("userLoggedIn","y"),document.getElementById("loginLinkId").style.display="none",document.getElementById("logoutLinkId").style.display="block","9"==sessionStorage.getItem("userLvl")&&(document.getElementById("mdaItems").style.display="block",document.getElementById("mdaOrders").style.display="block",document.getElementById("mdaArts").style.display="block",document.getElementById("mdaMockup").style.display="block",document.getElementById("add-freehand-text").style.display="block",document.getElementById("add-curved-text").style.display="block")),null==JSON.parse(localStorage.getItem("itemList")))return document.getElementById("loaderRingDivId").style.display="block",void setTimeout(function(){document.getElementById("loaderRingDivId").style.display="none",checkURL()},1e3);try{x=document.getElementById(o+"LinkId"),x.className+=" active"}catch{}if("product"==o){document.getElementById("productDivId").style.display="block",document.getElementById("productDivId").style.width="100%";var m=localStorage.getItem("curProductItem");showProduct(""!=i&&"null"!=i?i:null==m?the.firstIndexItemId:"null"==m?the.firstIndexItemId:m,"n")}else"login"==o?(document.getElementById("productDivId").style.display="none",document.getElementById("loginDivId").style.display="block"):"contactus"==o?(document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="block",refreshCaptcha()):"home"==o?(document.getElementById("homeDivId").style.display="block",document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("howtoDivId").style.display="none",""==s?populateItemList():searchItem(s)):"cart"==o&&Show("cart")}}}function populateItemList(){for(var e=JSON.parse(localStorage.getItem("itemList")),t=JSON.parse(e),o="",n=0;n<t.length;n++)0==n?o=o+'<div class="cardsContainerDivClass" style="padding-top: 70px;" > <div class="categoryHeader" >'+t[n].category+'<label style="float: right; margin: 0px; padding: 0px" class="switch"><input style="margin: 0px;" type="checkbox" checked data-cat="'+t[n].category+'"  onchange="handleShowToggle(this);" ><span class="slider round"></span></label></div>':t[n].category!=t[n-1].category&&(o=o+'</div><div class="cardsContainerDivClass"  style="padding-top: 70px;"><div class="categoryHeader">'+t[n].category+'<label style="float: right; margin: 0px; padding: 0px" class="switch"><input style="margin: 0px;" type="checkbox" checked data-cat="'+t[n].category+'"  onchange="handleShowToggle(this);" ><span class="slider round"></span></label></div>'),o=o+'<div class="menucard '+t[n].category.replaceAll(" ","")+' " style="">',o=(o+='<div class="flip-box"><div class="flip-box-inner"><div class="flip-box-front">')+'<img src="img/'+t[n].thumbnailimage+'" alt="Project Scan" style="width:260px; height:260px; margin: auto">',o+='</div><div class="flip-box-back"> <div style="padding: 1rem 1rem;">',o+=t[n].itemshortdesc,o=(o=(o+="</div></div></div></div>")+"<div style=\" margin: 0px; background-color:#ecf0f1 ; height: 100px; font: 14px Arial, 'Brush Script MT', sans-serif; margin-top: 5px\"> <br>"+t[n].itemname+" (CAD "+t[n].price+")<br><br>")+'<a href="?product='+t[n].itemid+'" class="aButton" style="width:150px"   >START ORDER</a></div></div>',n==t.length-1&&(o+="</div>");o+="</div>",document.getElementById("cardsContainerDivId").innerHTML=o}function handleShowToggle(e){var t=e.dataset.cat;t=t.replaceAll(" ","");var o=document.getElementsByClassName(t);if(0==e.checked)for(var n=0;n<o.length;n++)n>1&&(o[n].style.display="none");else for(n=0;n<o.length;n++)n>1&&(o[n].style.display="block")}function searchItem(e){null==e&&(e=document.getElementById("searchProductTextId").value);var t=e.trim();t=t.toUpperCase();for(var o=JSON.parse(localStorage.getItem("itemList")),n=JSON.parse(o).filter(function(e){var o=e.itemname;o=o.toUpperCase();var n=e.category;n=n.toUpperCase();var i=e.subcategory;i=i.toUpperCase();var d=e.keyword;return null==d&&(d=""),d=d.toUpperCase(),o.includes(t)||n.includes(t)||i.includes(t)||d.includes(t)}),i="",d=n.length,a=0;a<d;a++)0==a?i=i+'<div class="cardsContainerDivClass" > <div class="categoryHeader">'+n[a].category+"</div>":n[a].category!=n[a-1].category&&(i=i+'</div><div class="cardsContainerDivClass" ><div class="categoryHeader">'+n[a].category+"</div>"),i+='<div class="menucard" style="">',i=(i+='<div class="flip-box"><div class="flip-box-inner"><div class="flip-box-front">')+'<img src="img/'+n[a].thumbnailimage+'" alt="Project Scan" style="width:260px; height:260px; margin: auto">',i+='</div><div class="flip-box-back"><div style="padding: 1rem 1rem;">',i+=n[a].itemshortdesc,i=(i=(i+="</div></div></div></div>")+"<div style=\" margin: 0px; background-color:#ecf0f1 ; height: 100px; font: 14px Arial, 'Brush Script MT', sans-serif; margin-top: 5px\"> <br>"+n[a].itemname+" (CAD "+n[a].price+")<br><br>")+'<a href="?product='+n[a].itemid+'" class="aButton" style="width:150px"   >START ORDER</a></div></div>',a==n.length-1&&(i+="</div>");i+="</div>",document.getElementById("cardsContainerDivId").innerHTML=i,""==t?document.getElementById("productSearchResultsLblDiv").style.display="none":(document.getElementById("productSearchResultsLblDiv").style.display="flex",document.getElementById("productSearchResultsLbl").innerHTML=0==d?"No search results for '"+e+"'":"Search results for '"+e+"'")}function searchItemEntered(){13===event.keyCode&&searchItem()}function resetSearch(){document.getElementById("productSearchResultsLblDiv").style.display="none",document.getElementById("searchProductTextId").value="",populateItemList()}function activateAccount(e){$.ajax({url:"php/process.php",type:"POST",data:jQuery.param({usrfunction:"activateAcc",passkey:e}),contentType:"application/x-www-form-urlencoded; charset=UTF-8",success:function(e){"s"==e&&(document.getElementById("productDivId").style.display="none",document.getElementById("contactusDivId").style.display="none",document.getElementById("homeDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("addToCartModal").style.display="none",document.getElementById("orderConfirmationDivId").style.display="none",document.getElementById("showOrdersDivId").style.display="none",document.getElementById("loginDivId").style.display="block",document.getElementById("loginerrormsg").innerHTML="",document.getElementById("loginSecDivId").style.display="none",document.getElementById("accActivatedDivId").style.display="block")},error:function(){}})}function showModal(){if("y"==sessionStorage.getItem("userLoggedIn")){document.getElementById("checkOutDivId").style.display="block",document.getElementById("checkoutusername").style.display="none",document.getElementById("checkoutemailid").value=getCookie("cookname");const e="checkoutLabel",t=-50,o=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:o,behavior:"smooth"})}else{document.getElementById("myModal").style.display="block"}}function hideModal(){document.getElementById("myModal").style.display="none"}function hideCartModal(){document.getElementById("addToCartModal").style.display="none"}function checkoutWithLogin(){document.getElementById("myModal").style.display="none",document.getElementById("loginDivId").style.display="block",document.getElementById("loginSecDivId").style.display="block",document.getElementById("registerSecDivId").style.display="none",document.getElementById("forgotPasswordSecDivId").style.display="none",document.getElementById("accActivatedDivId").style.display="none",document.getElementById("forgotPWDivId").style.display="none";const e=document.getElementById("loginDivId").getBoundingClientRect().top+window.pageYOffset+-50;window.scrollTo({top:e,behavior:"smooth"})}function checkoutAsGuest(){document.getElementById("myModal").style.display="none",document.getElementById("loginDivId").style.display="none",document.getElementById("checkOutDivId").style.display="block";const e=document.getElementById("checkOutDivId").getBoundingClientRect().top+window.pageYOffset+-50;window.scrollTo({top:e,behavior:"smooth"})}function setPassword(){document.getElementById("newpwerrormsg").innerHTML="<font color = #cc0000> </font> ";var e=document.getElementById("newpassword").value,t=document.getElementById("newpasswordRe").value,o="";if(""==e.trim())return o="Please provide password with minimum 8 character length",void(document.getElementById("newpwerrormsg").innerHTML="<font color = #cc0000>"+o+"</font> ");if(e.length<8)return o="Please provide password with minimum 8 character length",void(document.getElementById("newpwerrormsg").innerHTML="<font color = #cc0000>"+o+"</font> ");if(e!=t)return o="Entered passwords do not match",void(document.getElementById("newpwerrormsg").innerHTML="<font color = #cc0000>"+o+"</font> ");var n=sessionStorage.getItem("passwordresetkey");$.ajax({url:"php/process.php",data:{usrpassword:e,resetkey:n,usrfunction:"setPassword"},type:"POST",dataType:"JSON",success:function(e){"S"==e&&(document.getElementById("setPwDivId").style.display="none",document.getElementById("setPwSuccessDivId").style.display="block"),"F"==e&&(document.getElementById("newpwerrormsg").innerHTML="There was a problem in completing the request. Issue has been logged and will be resolved soon. Please try again later"),"S"!=e&&"F"!=e&&(document.getElementById("newpwerrormsg").innerHTML="<font color = red>"+e+"</font> ")},error:function(e,t,o){console.log(o),console.log(e),console.log(t),document.getElementById("newpwerrormsg").innerHTML="There was a problem in completing the request. Issue has been logged and will be resolved soon. Please try again later"}})}function deliverySelected(e){var t=localStorage.getItem("cartTotal");if("pickup"==e){document.getElementById("paymentDiv").style.display="block",document.getElementById("addresscontainerDiv").style.display="none",document.getElementById("shippingDiv").style.display="none",document.getElementById("addressEntered").style.display="none",document.getElementById("stripePaymentId").style.display="none";document.getElementById("shippingPrice").innerHTML=0,document.getElementById("totalPricewithShipping").innerHTML=parseFloat(t)+parseFloat(0),localStorage.setItem("shippingMethod","pick up")}else"shipping"==e&&(document.getElementById("paymentDiv").style.display="none",document.getElementById("addresscontainerDiv").style.display="block",document.getElementById("shipaddrerrormsg").innerHTML="<font color = red> </font> ",document.getElementById("addressEntered").style.display="none",document.getElementById("stripePaymentId").style.display="none");window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}function refreshCaptcha(){let e=document.querySelector("#captcha");var t=e.getContext("2d");t.font="50px arial",t.fillStyle="#333",t.clearRect(0,0,e.width,e.height);let o=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z","2","3","4","5","6","7","8","9"],n=[];for(let e=1;e<=7;e++)n.push(o[Math.floor(Math.random()*o.length)]);var i=n.join("");t.fillText(n.join(""),e.width/10,e.height/1.8),the.captcha=i}function refreshCaptchatwo(){let e=document.querySelector("#captchatwo");var t=e.getContext("2d");t.font="50px Roboto",t.fillStyle="#333",t.clearRect(0,0,e.width,e.height);let o=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z","2","3","4","5","6","7","8","9"],n=[];for(let e=1;e<=7;e++)n.push(o[Math.floor(Math.random()*o.length)]);var i=n.join("");t.fillText(n.join(""),e.width/10,e.height/1.8),the.captcha=i}function uploadFiles(e){var t=e.files;the.uploadedFiles=t}function handleFolderSelect(e){var t=e.files;the.uploadedFiles=t;for(var o,n=0;o=t[n];n++){var i=o.webkitRelativePath,d=i.lastIndexOf("/"),a=i.substr(0,d);the.newProjectContent.push([a,o.name])}for(var r="<div >",l=0;l<the.newProjectContent.length;l++){var s=the.newProjectContent[l][1],c=the.newProjectContent[l][1],m=the.newProjectContent[l][0];l>0?r=the.newProjectContent[l][0]!=the.newProjectContent[l-1][0]?(r=(r+="</ul> </li>")+'<li class="day"><i style = "color: black; font-style: normal; ">'+m+'</i> <ul style="padding: 0; padding-left: 10px; list-style-type: none; margin: 0; ">')+'<li><a href ="#" class="fileLink" onclick="fileClicked(\''+c+"');return false;\" >"+s+"</a></li>":r+'<li><a href ="#" class="fileLink" onclick="fileClicked(\''+c+"');return false;\" >"+s+"</a></li>":0==l&&(r=r+'<li class="day"><i style = "color: black">'+m+'</i> <ul style="padding: 0; padding-left: 10px; list-style-type: none; margin: 0; "><li><a href ="#" class="fileLink" onclick="fileClicked(\''+c+"');return false;\" >"+s+"</a></li>"),l==the.newProjectContent.length-1&&(r+="</ul> </li></div>")}document.getElementById("NewProjectStructureDisplayId").innerHTML=r,$("li > ul").each(function(e){var t=$(this).parent("li");t.addClass("folder");var o=$(this).remove();t.wrapInner("<a/>").find("a").click(function(){o.toggle()}),t.append(o)}),$("ul ul").hide()}function handleFolderSelectTwo(e){var t=e.files;the.uploadedFiles=t,the.newProjectContent=[];for(var o,n=0;o=t[n];n++){var i=o.webkitRelativePath,d=i.lastIndexOf("/"),a=i.substr(0,d);the.newProjectContent.push([a,o.name])}for(var r='<div style="overflow: hidden;">',l=0;l<the.newProjectContent.length;l++){var s=the.newProjectContent[l][1],c=the.newProjectContent[l][1],m=the.newProjectContent[l][0];l>0?r=the.newProjectContent[l][0]!=the.newProjectContent[l-1][0]?(r=(r+="</ul> </li>")+'<li class="day"><i style = "color: black; font-style: normal; ">'+m+'</i> <ul style="padding: 0; padding-left: 10px; list-style-type: none; margin: 0; ">')+'<li><a href ="#" class="fileLink" onclick="fileClicked(\''+c+"');return false;\" >"+s+'</a><button class="btnNewWindow" onclick="openFileInNewWindow(\''+c+"')\" ></button></li>":r+'<li><a href ="#" class="fileLink" onclick="fileClicked(\''+c+"');return false;\" >"+s+'</a><button class="btnNewWindow" onclick="openFileInNewWindow(\''+c+"')\" ></button></li>":0==l&&(r=r+'<li class="day"><i style = "color: black">'+m+'</i> <ul style="padding: 0; padding-left: 10px; list-style-type: none; margin: 0; "><li><a href ="#" class="fileLink" onclick="fileClicked(\''+c+"');return false;\" >"+s+'</a><button class="btnNewWindow" onclick="openFileInNewWindow(\''+c+"')\" ></button></li>"),l==the.newProjectContent.length-1&&(r+="</ul> </li></div>")}document.getElementById("NewProjectStructureDisplayIdTwo").innerHTML=r,$("li > ul").each(function(e){var t=$(this).parent("li");t.addClass("folder");var o=$(this).remove();t.wrapInner("<a/>").find("a").click(function(){o.toggle()}),t.append(o)}),$("ul ul").hide()}function openFileInNewWindow(e){if(null!=the.uploadedFiles)for(var t,o=the.uploadedFiles,n=0;t=o[n];n++)if(t.name==e){localStorage.setItem("newWindowFileName",e);var i=new FileReader;i.onload=function(e){localStorage.setItem("newWindowFileObj",e.target.result),myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname+"?target=custommugs",window.open(myUrl)},i.readAsText(t,"UTF-8")}}function loadFile(){try{var e=localStorage.getItem("newWindowFileName"),t=localStorage.getItem("newWindowFileObj");"none"==document.getElementById("custommugsDivId").style.display&&(document.getElementById("custommugsDivId").style.display="block",document.getElementById("custommugsDivId").style.width="50%",document.getElementById("productDivId").style.width="20%");var o=e.split(".")[1],n=getLanguageForFileExtension(o);if(document.getElementById("displayFileLoaderDivId").style.display="none",the.editor?(the.editor.setValue(t),the.codetext=the.editor.getValue()):($("#source").val(t),the.codetext=t),document.getElementById("selectfile").innerHTML="<i class='fas fa-folder-open' style='font-size:20px;color:#cc0000'></i>&nbsp"+e,""!=n){the.codeLanguage=n,the.languageOverridden=!0,document.getElementById("language-box").value=n,markHelpCodes();var i="Code Language is "+n+" based on file extension. If it looks incorrect, please enter the correct language in the box below and click on override button.",d=JSON.parse(sessionStorage.getItem("SpecialFiles"));JSON.parse(d).filter(function(t){return t.filename.toUpperCase()===e.toUpperCase()}).length>0||null!=the.filelvlhelp&&the.filelvlhelp,document.getElementById("languageOverride").style.display="block",document.getElementById("overrideMsg").innerHTML="",document.getElementById("helpDivMessage").style.display="block",document.getElementById("helpDivMessage").innerHTML='<i class="fa fa-info-circle" style="display:none; float: left;  position: absolute; top:35px; left: 10px; color:#cc0000;" ></i>'+cleanWord(i,""),populateLanguages(),document.getElementById("languageScanResultDivId").style.display="none",document.getElementById("helpDetailsDivId").style.display="none",document.getElementById("sub-tech-div-id").style.display="none"}else the.codeLanguage=n,markHelpCodes(),document.getElementById("destinationDiv").style.display="block",languageNotDeterminedMsg()}catch(e){console.log(e)}}function myTopNavFunction(){var e=document.getElementById("myTopnav");"topnav"===e.className?e.className+=" responsive":e.className="topnav"}function login(){document.getElementById("loginerrormsg").innerHTML="<font color = red> </font> ",StrEmail=document.getElementById("emailid").value,StrPass=document.getElementById("password").value;var e="";if(""==StrEmail.trim())e="Please enter the email id";else if(t<1||o<t+2||o+2>=StrEmail.length)e+="<br>Email id is not valid";else{var t=StrEmail.indexOf("@"),o=StrEmail.lastIndexOf(".");/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(StrEmail)||(e+="<br>Email id is not valid")}""==StrPass.trim()&&(e+="<br>Please provide password"),""==e?$.ajax({url:"php/process.php",data:{usremail:StrEmail,usrpassword:StrPass,usrremember:"Y",usrfunction:"login"},type:"POST",dataType:"json",success:function(e){if("6S"==e.substring(0,2))if(document.getElementById("loginerrormsg").innerHTML="<font color = #0000>Login Successful</font> ",loggedIn="Y",document.getElementById("loginLinkId").style.display="none",document.getElementById("logoutLinkId").style.display="block",sessionStorage.setItem("userLoggedIn","y"),sessionStorage.setItem("userLvl",e.substring(2,3)),sessionStorage.setItem("userEmail",StrEmail),sessionStorage.setItem("StrEmail",StrEmail),"block"==document.getElementById("showCartDivId").style.display){document.getElementById("loginDivId").style.display="none",document.getElementById("checkOutDivId").style.display="block",document.getElementById("checkoutusername").style.display="none",document.getElementById("checkoutemailid").value=StrEmail;const e="checkOutDivId",t=-50,o=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:o,behavior:"smooth"})}else{var t=window.location.protocol+"//"+window.location.host+window.location.pathname;window.open(t+"?target=home","_self")}else document.getElementById("loginerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> "},error:function(e,t,o){console.log(o),console.log(e)}}):document.getElementById("loginerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> "}function editShippingAddress(){document.getElementById("addressEntered").style.display="none",document.getElementById("addresscontainerDiv").style.display="block",document.getElementById("shippingDiv").style.display="none",document.getElementById("paymentDiv").style.display="none"}function shippingSelected(e){for(var t=JSON.parse(localStorage.getItem("shippingmethods")),o=localStorage.getItem("cartTotal"),n=0,i=0;i<t.length;i++)bubblemail=t[i].bubblemail,regular=t[i].regular,express=t[i].express,flatratebx=t[i].flatratebx,regular_days=t[i].regular_days,express_days=t[i].express_days,"bubblemail"==e?(localStorage.setItem("shippingMethod","bubblemail CAD "+bubblemail),n=bubblemail,document.getElementById("shippingPrice").innerHTML=n,document.getElementById("totalPricewithShipping").innerHTML=parseFloat(o)+parseFloat(n),o+n>0&&(document.getElementById("displayPaymentTotal").style.display="flex",document.getElementById("paymentDiv").style.display="block")):"regular"==e?(localStorage.setItem("shippingMethod","regular CAD "+regular),n=regular,document.getElementById("shippingPrice").innerHTML=n,document.getElementById("totalPricewithShipping").innerHTML=parseFloat(o)+parseFloat(n),o+n>0&&(document.getElementById("displayPaymentTotal").style.display="flex",document.getElementById("paymentDiv").style.display="block")):"flatratebx"==e&&(localStorage.setItem("shippingMethod","flatratebx CAD "+flatratebx),n=flatratebx,document.getElementById("shippingPrice").innerHTML=n,document.getElementById("totalPricewithShipping").innerHTML=parseFloat(o)+parseFloat(n),o+n>0&&(document.getElementById("displayPaymentTotal").style.display="flex",document.getElementById("paymentDiv").style.display="block")),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}function getShippingCost(){document.getElementById("shipaddrerrormsg").innerHTML="<font color = red> </font> ",document.getElementById("placeordererrormsg").innerHTML="<font color = red> </font> ";var e="";if(userName=document.getElementById("checkoutusername").value,StrEmail=document.getElementById("checkoutemailid").value,"n"==sessionStorage.getItem("userLoggedIn")?""==userName.trim()&&(e="Please enter your name"):userName=getCookie("cookFLname"),userName=userName.replaceAll("+"," "),""==StrEmail.trim())e+="<br>Please enter the email id";else if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(StrEmail)){var t=StrEmail.indexOf("@"),o=StrEmail.lastIndexOf(".");(t<1||o<t+2||o+2>=StrEmail.length)&&(e+="<br>Email id is not valid")}else e+="<br>Email id is not valid";if(shipaddress=document.getElementById("shipaddress").value,shipcountry=document.getElementById("shipcountry").value,zipcode=document.getElementById("zipcode").value,zipcode=zipcode.replaceAll(" ",""),shipcity=document.getElementById("shipcity").value,shipstate=document.getElementById("shipstate").value,""!=shipaddress.trim()&&""!=shipcountry.trim()&&""!=zipcode.trim()&&""!=shipcity.trim()&&""!=shipstate.trim()||(e+="<br>All address fields are required"),""==e){document.getElementById("addressEntered").innerHTML="<button  type='button' class='btn btn-secondary' onclick=editShippingAddress() >Edit</button><br>"+userName+"<br>"+shipaddress+"<br>"+shipcity+","+shipstate+"<br> ZIP code - "+zipcode+"<br>"+shipcountry.toUpperCase();var n=localStorage.getItem("shoppingCart");e="";document.getElementById("loaderRingDivId").style.display="block",document.body.style.cursor="wait",$.ajax({url:"php/process.php",data:{zipcode:zipcode,cart:n,usrfunction:"getShippingCosts"},type:"POST",dataType:"json",success:function(e){document.body.style.cursor="default",document.getElementById("loaderRingDivId").style.display="none",localStorage.setItem("shippingmethods",JSON.stringify(e));for(var t="<br><label>Shipping</label><hr style='margin-top: 0px'>",o=e,n="",i="",d="",a=0;a<o.length;a++)n=o[a].bubblemail,i=o[a].regular,o[a].express,d=o[a].flatratebx,o[a].regular_days,o[a].express_days,0!=n&&n>1.5&&n<20&&(t=t+"<div class='shippingOptionsDiv'><input class='checkOutRadioBtn' type='radio' name='shipping' onclick='shippingSelected(\"bubblemail\")'> Economy Envelope (No tracking) - CAD "+n+"</div>"),d>0?i<d?i>10&&i<200&&(t=t+"<div class='shippingOptionsDiv'><input class='checkOutRadioBtn' type='radio' name='shipping' onclick='shippingSelected(\"regular\")'> Standard Shipping - CAD "+i+"</div>"):d>=i&&d>10&&d<200&&(t=t+"<div class='shippingOptionsDiv'><input class='checkOutRadioBtn' class='checkOutRadioBtn' type='radio' name='shipping' onclick='shippingSelected(\"flatratebx\")'> Standard Shipping - CAD "+d+"</div>"):i>10&&(t=t+"<div class='shippingOptionsDiv'><input class='checkOutRadioBtn' type='radio' name='shipping' onclick='shippingSelected(\"regular\")'> Standard Shipping - CAD "+i+"</div>"),document.getElementById("shippingDiv").innerHTML=t,document.getElementById("shippingDiv").style.display="block",document.getElementById("addressEntered").style.display="block",document.getElementById("addresscontainerDiv").style.display="none"},error:function(e,t,o){document.body.style.cursor="default",document.getElementById("loaderRingDivId").style.display="none",document.getElementById("shipaddrerrormsg").innerHTML="<font color = #cc0000>Sorry the provided postal code is not served by our shipping partner</font> "}})}else document.getElementById("shipaddrerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> "}function placeOrder(e){var t=sessionStorage.getItem("orderNote"),o=sessionStorage.getItem("StrEmail"),n=sessionStorage.getItem("userName"),i=sessionStorage.getItem("shipaddress")+"&#013;&#010;"+sessionStorage.getItem("shipcity")+", "+sessionStorage.getItem("shipstate")+" "+sessionStorage.getItem("zipcode")+"&#013;&#010;"+sessionStorage.getItem("shipcountry"),d=localStorage.getItem("shippingMethod");"pick up"==d&&(i="");var a=sessionStorage.getItem("userLoggedIn"),r=localStorage.getItem("shoppingCart");if(""==r||"[]"==r){myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname;const e=myUrl,t="Goods and Gift",o={additionalInformation:"Updated the URL with JS"};return window.history.pushState(o,t,e),document.body.style.cursor="default",document.getElementById("orderResponseDivId").innerHTML="<font color = #cc0000>Sorry. The request could not be processed. </font> ",document.getElementById("processingPaymentDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",void(document.getElementById("orderConfirmationDivId").style.display="block")}var l=sessionStorage.getItem("totalPricewithShipping");document.getElementById("loaderRingDivId").style.display="block",document.body.style.cursor="wait",$.ajax({url:"php/process.php",data:{usremail:o,usrLoggedIn:a,cart:r,cartTotal:l,orderNote:t,userName:n,paymentMethod:"",deliverymethod:d,deliveryaddress:i,stripeCustomerID:"",stripePaymentIntent:e,usrfunction:"PlaceOrder"},type:"POST",dataType:"json",success:function(e){myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname;const t=myUrl;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Goods and Gift",t),document.body.style.cursor="default",document.getElementById("loaderRingDivId").style.display="none",localStorage.setItem("shoppingCart",""),clearCart(),document.getElementById("orderNbrId").innerHTML=e+". We will send the updates regarding your order to the provided email id "+sessionStorage.getItem("StrEmail"),localStorage.setItem("orderList",null),localStorage.setItem("itemList",null),getItemList(),document.getElementById("processingPaymentDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="block",document.getElementById("showCartDivId").style.display="none",null==getCookie("cookname")?(sessionStorage.setItem("userLoggedIn","n"),document.getElementById("logoutLinkId").style.display="none"):(sessionStorage.setItem("userLvl",getCookie("cookuserLvl")),sessionStorage.setItem("userLoggedIn","y"),document.getElementById("loginLinkId").style.display="none",document.getElementById("logoutLinkId").style.display="block","9"==sessionStorage.getItem("userLvl")&&(document.getElementById("mdaItems").style.display="block",document.getElementById("mdaOrders").style.display="block",document.getElementById("mdaArts").style.display="block",document.getElementById("mdaMockup").style.display="block",document.getElementById("add-freehand-text").style.display="block",document.getElementById("add-curved-text").style.display="block"))},error:function(e,t,o){myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname;const n=myUrl;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Goods and Gift",n),document.body.style.cursor="default",document.getElementById("loaderRingDivId").style.display="none",document.getElementById("orderResponseDivId").innerHTML="<font color = #cc0000>Sorry. We could not process the order. Any charges to your payment method will be reverted.</font> ",document.getElementById("processingPaymentDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="block",null==getCookie("cookname")?(sessionStorage.setItem("userLoggedIn","n"),document.getElementById("logoutLinkId").style.display="none"):(sessionStorage.setItem("userLvl",getCookie("cookuserLvl")),sessionStorage.setItem("userLoggedIn","y"),document.getElementById("loginLinkId").style.display="none",document.getElementById("logoutLinkId").style.display="block","9"==sessionStorage.getItem("userLvl")&&(document.getElementById("mdaItems").style.display="block",document.getElementById("mdaOrders").style.display="block",document.getElementById("mdaMockup").style.display="block",document.getElementById("mdaArts").style.display="block",document.getElementById("add-freehand-text").style.display="block",document.getElementById("add-curved-text").style.display="block"))}})}function saveMockUp(){var e=sessionStorage.getItem("userLoggedIn"),t=localStorage.getItem("shoppingCart");if(""==t||"[]"==t){myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname;const e=myUrl,t="Goods and Gift",o={additionalInformation:"Updated the URL with JS"};return window.history.pushState(o,t,e),document.body.style.cursor="default",void alert("The request could not be processed. Please ensure that item is added to cart before placing mock up order")}var o=sessionStorage.getItem("totalPricewithShipping");document.getElementById("loaderRingDivId").style.display="block",document.body.style.cursor="wait",$.ajax({url:"php/process.php",data:{usremail:"Mockup",usrLoggedIn:e,cart:t,cartTotal:o,orderNote:"Mockup",userName:"Mockup",paymentMethod:"",deliverymethod:"Mockup",deliveryaddress:"Mockup",stripeCustomerID:"",stripePaymentIntent:"Mockup",usrfunction:"PlaceOrder"},type:"POST",dataType:"json",success:function(e){myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname;const t=myUrl;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Goods and Gift",t),document.body.style.cursor="default",document.getElementById("loaderRingDivId").style.display="none",alert("This mock up can be accessed from "+myUrl+"?mockup="+e),document.getElementById("processingPaymentDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",null==getCookie("cookname")?(sessionStorage.setItem("userLoggedIn","n"),document.getElementById("logoutLinkId").style.display="none"):(sessionStorage.setItem("userLvl",getCookie("cookuserLvl")),sessionStorage.setItem("userLoggedIn","y"),document.getElementById("loginLinkId").style.display="none",document.getElementById("logoutLinkId").style.display="block","9"==sessionStorage.getItem("userLvl")&&(document.getElementById("mdaItems").style.display="block",document.getElementById("mdaOrders").style.display="block",document.getElementById("mdaArts").style.display="block",document.getElementById("mdaMockup").style.display="block",document.getElementById("add-freehand-text").style.display="block",document.getElementById("add-curved-text").style.display="block"))},error:function(e,t,o){myUrl=window.location.protocol+"//"+window.location.host+window.location.pathname;const n=myUrl;window.history.pushState({additionalInformation:"Updated the URL with JS"},"Goods and Gift",n),document.body.style.cursor="default",document.getElementById("loaderRingDivId").style.display="none",document.getElementById("orderResponseDivId").innerHTML="<font color = #cc0000>Sorry. Mock up request could not be placed.</font> ",document.getElementById("processingPaymentDivId").style.display="none",document.getElementById("showCartDivId").style.display="none",document.getElementById("orderConfirmationDivId").style.display="block",null==getCookie("cookname")?(sessionStorage.setItem("userLoggedIn","n"),document.getElementById("logoutLinkId").style.display="none"):(sessionStorage.setItem("userLvl",getCookie("cookuserLvl")),sessionStorage.setItem("userLoggedIn","y"),document.getElementById("loginLinkId").style.display="none",document.getElementById("logoutLinkId").style.display="block","9"==sessionStorage.getItem("userLvl")&&(document.getElementById("mdaItems").style.display="block",document.getElementById("mdaOrders").style.display="block",document.getElementById("mdaMockup").style.display="block",document.getElementById("mdaArts").style.display="block",document.getElementById("add-freehand-text").style.display="block",document.getElementById("add-curved-text").style.display="block"))}})}function updateOrder(e,t){document.getElementById("updateordererrormsg-"+e).innerHTML="<font color = red> </font> ";var o=sessionStorage.getItem("userEmail"),n=document.getElementById("customeremail-"+e).value,i=document.getElementById("customername-"+e).value,d=document.getElementById("paymentamountreceived-"+e).value,a=document.getElementById("paymentmethod-"+e).value,r=document.getElementById("paymentdate-"+e).value,l=document.getElementById("orderstatus-"+e).value,s=document.getElementById("orderstatusupdatenotes-"+e).value,c=document.getElementById("deliveryaddress-"+e).value;if("n"==sessionStorage.getItem("userLoggedIn"))return error_message="Not authorized",void(document.getElementById("updateordererrormsg-"+e).innerHTML="<font color = #cc0000>"+error_message+"</font> ");if("9"!=sessionStorage.getItem("userLvl"))return error_message="Not authorized",void(document.getElementById("updateordererrormsg-"+e).innerHTML="<font color = #cc0000>"+error_message+"</font> ");$.ajax({url:"php/process.php",data:{usremail:o,orderid:e,customeremail:n,customername:i,paymentamountreceived:d,paymentmethod:a,paymentdate:r,orderstatus:l,orderstatusupdatenotes:s,sendEmail:t,deliveryaddress:c,usrfunction:"UpdateOrder"},type:"POST",dataType:"json",success:function(t){localStorage.setItem("mdaOrderList",null),document.getElementById("updateordererrormsg-"+e).innerHTML="<font color = #cc0000>Updated successfully</font> "},error:function(t,o,n){document.getElementById("updateordererrormsg-"+e).innerHTML="<font color = #cc0000>Failed to update</font> "}})}function updateItem(e,t){var o=sessionStorage.getItem("userEmail"),n="(New Item) Please Edit",i="0",d="10",a="10",r="10",l="10",s="10",c=1,m="",u="",g="",y="",p="0",I="Provide",v="Provide",h="Provide",f="",b="",E="",w="",B="0",k="0",x="0",S="1",D="0",L="0",C="",T="",O="",M="",P="",H="";if(""==e&&"y"==t){if("n"==sessionStorage.getItem("userLoggedIn"))return void(error_message="Not authorized");if("9"!=sessionStorage.getItem("userLvl"))return void(error_message="Not authorized")}else{if(document.getElementById("updateitemerrormsg-"+e).innerHTML="<font color = red> </font> ",n=document.getElementById("itemname-"+e).value,v=document.getElementById("itemdesc-"+e).value,h=document.getElementById("itemshortdesc-"+e).value,f=document.getElementById("masteritemid-"+e).value,b=document.getElementById("itemsortorderid-"+e).value,E=document.getElementById("categorysortorderid-"+e).value,w=document.getElementById("vinyltype-"+e).value,i=document.getElementById("currentlyoffered-"+e).value,d=document.getElementById("price-"+e).value,a=document.getElementById("shipbubble-"+e).value,r=document.getElementById("shipreg-"+e).value,l=document.getElementById("shipexped-"+e).value,s=document.getElementById("shippriority-"+e).value,c=document.getElementById("shipweightkg-"+e).value,m=document.getElementById("category-"+e).value,u=document.getElementById("subcategory-"+e).value,g=document.getElementById("thumbnailimage-"+e).value,y=document.getElementById("keyword-"+e).value,p=document.getElementById("hasmultipleimages-"+e).value,I=document.getElementById("image-"+e).value,B=document.getElementById("quantityinitial-"+e).value,k=document.getElementById("quantitiesremaining-"+e).value,x=document.getElementById("allowcustomtext-"+e).value,S=document.getElementById("allowcustomnote-"+e).value,L=document.getElementById("allowaddart-"+e).value,D=document.getElementById("allowcustomimage-"+e).value,C=document.getElementById("coloroptions-"+e).value,T=document.getElementById("questionforaddnote-"+e).value,O=document.getElementById("userinputsrequired-"+e).value,M=document.getElementById("cridesignsizefactor-"+e).value,P=document.getElementById("canvasfrontstring-"+e).value,H=document.getElementById("canvasbackstring-"+e).value,"n"==sessionStorage.getItem("userLoggedIn"))return error_message="Not authorized",void(document.getElementById("updateitemerrormsg-"+e).innerHTML="<font color = #cc0000>"+error_message+"</font> ");if("9"!=sessionStorage.getItem("userLvl"))return error_message="Not authorized",void(document.getElementById("updateitemerrormsg-"+e).innerHTML="<font color = #cc0000>"+error_message+"</font> ")}$.ajax({url:"php/process.php",data:{usremail:o,itemid:e,itemname:n,itemdesc:v,itemshortdesc:h,masteritemid:f,itemsortorderid:b,categorysortorderid:E,vinyltype:w,currentlyoffered:i,price:d,shipbubble:a,shipreg:r,shipexped:l,shippriority:s,shipweightkg:c,category:m,subcategory:u,thumbnailimage:g,keyword:y,hasmultipleimages:p,itemimage:I,quantityinitial:B,quantitiesremaining:k,allowcustomtext:x,allowcustomnote:S,allowaddart:L,allowcustomimage:D,coloroptions:C,questionforaddnote:T,userinputsrequired:O,createNewItem:t,cridesignsizefactor:M,canvasfrontstring:P,canvasbackstring:H,usrfunction:"UpdateItem"},type:"POST",dataType:"json",success:function(t){localStorage.setItem("mdaItemList",null),getItemList(),""==e?showMdaItems():document.getElementById("updateitemerrormsg-"+e).innerHTML="<font color = #cc0000>Processed successfully</font> "},error:function(t,o,n){""==!e&&(document.getElementById("updateitemerrormsg-"+e).innerHTML="<font color = #cc0000>Failed to update</font> ")}})}function updateArt(e,t){var o=sessionStorage.getItem("userEmail"),n="(New Item) Please Edit",i="0",d="",a="",r="",l="";if(""==e&&"y"==t){if("n"==sessionStorage.getItem("userLoggedIn"))return void(error_message="Not authorized");if("9"!=sessionStorage.getItem("userLvl"))return void(error_message="Not authorized")}else{if(document.getElementById("imagefilename-ererrormsg-"+e).innerHTML="<font color = red> </font> ",n=document.getElementById("imagedisplayname-"+e).value,(r=(r=(r=document.getElementById("imagefilename-"+e).value).trim()).toLowerCase()).includes(".png")||(r+=".png"),i=document.getElementById("imageoffered-"+e).value,d=document.getElementById("imagecategory-"+e).value,a=document.getElementById("imagesubcategory-"+e).value,l=document.getElementById("additionalinfo-"+e).value,"n"==sessionStorage.getItem("userLoggedIn"))return error_message="Not authorized",void(document.getElementById("imagefilename-ererrormsg-"+e).innerHTML="<font color = #cc0000>"+error_message+"</font> ");if("9"!=sessionStorage.getItem("userLvl"))return error_message="Not authorized",void(document.getElementById("imagefilename-ererrormsg-"+e).innerHTML="<font color = #cc0000>"+error_message+"</font> ")}$.ajax({url:"php/process.php",data:{usremail:o,imagedisplayname:n,imageoffered:i,imagecategory:d,imagesubcategory:a,additionalinfo:l,imagefilename:r,imageid:e,createNewArtItem:t,usrfunction:"UpdateArtItem"},type:"POST",dataType:"json",success:function(t){localStorage.setItem("artList",null),""==e?getMdaArtList():document.getElementById("imagefilename-ererrormsg-"+e).innerHTML="<font color = #cc0000>Processed successfully</font> "},error:function(t,o,n){""==!e&&(document.getElementById("imagefilename-ererrormsg-"+e).innerHTML="<font color = #cc0000>Failed to update</font> ")}})}function loginWithoutRefresh(){document.getElementById("Subloginerrormsg").innerHTML="<font color = red> </font> ",StrEmail=document.getElementById("Subemailid").value,StrPass=document.getElementById("Subpassword").value;var e="";if(""==StrEmail.trim())return e="Please enter the email id",void(document.getElementById("Subloginerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> ");var t=StrEmail.indexOf("@"),o=StrEmail.lastIndexOf(".");return t<1||o<t+2||o+2>=StrEmail.length?(e="Email id is not valid",void(document.getElementById("Subloginerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> ")):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(StrEmail)?""==StrPass.trim()?(e="Please provide password",void(document.getElementById("Subloginerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> ")):void $.ajax({url:"php/process.php",data:{usremail:StrEmail,usrpassword:StrPass,usrremember:"Y",usrfunction:"login"},type:"POST",dataType:"json",success:function(e){"6S"==e.substring(0,2)?(loggedIn="Y",document.getElementById("loginLinkId").style.display="none",document.getElementById("SubloginDivId").style.display="none",document.getElementById("logoutLinkId").style.display="block",document.getElementById("helpAddUpdateMsg").innerHTML="",sessionStorage.setItem("userLoggedIn","y"),sessionStorage.setItem("userLvl",e.substring(2,3))):document.getElementById("Subloginerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> "},error:function(e,t,o){alert(e),console.log(o),console.log(e)}}):(e="Email id is not valid",void(document.getElementById("Subloginerrormsg").innerHTML="<font color = #cc0000>"+e+"</font> "))}function SubshowCreateAccount(){document.getElementById("SubloginSecDivId").style.display="none",document.getElementById("SubregisterSecDivId").style.display="block"}function SubshowLogin(){document.getElementById("SubregisterSecDivId").style.display="none",document.getElementById("SubloginSecDivId").style.display="block"}function Logout(){StrFunction="logout",error_message="",localStorage.setItem("mdaItemList",null),localStorage.setItem("curProductItem",null),localStorage.setItem("itemList",null),localStorage.setItem("coloreditem",null),sessionStorage.setItem("userLvl",null),localStorage.setItem("artList",null),localStorage.setItem("orderList",null),localStorage.setItem("mdaItemList",null),localStorage.setItem("shoppingCart",""),clearCart(),localStorage.setItem("cartTotal",null),$.ajax({url:"php/process.php",data:{usrfunction:StrFunction},type:"POST",dataType:"json",success:function(e){if("S"==e){loggedIn="N",onMobileBrowser()||(document.getElementById("loginLinkId").style.display="block"),document.getElementById("logoutLinkId").style.display="none",sessionStorage.setItem("userLoggedIn","n"),sessionStorage.setItem("SavedProjectsList",null),setCookie("cookname",null,-1);var t=window.location.protocol+"//"+window.location.host+window.location.pathname;window.open(t+"?target=home","_self")}},error:function(e,t,o){console.log(o),console.log(e)}})}function cookieAccepted(){document.getElementById("cookie-div-id").style.display="none",localStorage.setItem("cookieAccepted","y")}function register(){document.getElementById("registererrormsg").innerHTML="<font color = #cc0000> </font> ";var e=document.getElementById("registeremailid").value,t=document.getElementById("registerusname").value,o=document.getElementById("registerpassword").value,n=document.getElementById("registerpasswordre").value,i="";if(""==t.trim()&&(i="Please provide your name"),""==e.trim())i+="<br>Please enter the email id";else if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)){var d=e.indexOf("@"),a=e.lastIndexOf(".");(d<1||a<d+2||a+2>=e.length)&&(i+="<br>Email id is not valid")}else i+="<br>Email id is not valid";if(""==o.trim()?i+="<br>Please provide password with minimum 8 character length":o.length<8&&(i+="<br>Please provide password with minimum 8 character length"),o!=n&&(i+="<br>Entered passwords do not match"),""==i){$.ajax({url:"php/process.php",data:{usremail:e,usrpassword:o,usrfullname:t,usraddress:"",usrfunction:"register"},type:"POST",dataType:"JSON",success:function(e){"S"==e&&(document.getElementById("registererrormsg").innerHTML="<font color = #29ABE0>Registration completed successfully. You should receive an email shortly to activate the account.</font> "),"F"==e&&(document.getElementById("registererrormsg").innerHTML="There was a problem in completing registration. Issue has been logged and will be resolved soon. Please try again later"),"S"!=e&&"F"!=e&&(document.getElementById("registererrormsg").innerHTML="<font color = #cc0000>"+e+"</font> ")},error:function(e,t,o){console.log(o),console.log(e),console.log(t),document.getElementById("registererrormsg").innerHTML="There was a problem in completing registration. Issue has been logged and will be resolved soon. Please try again later"}})}else document.getElementById("registererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> "}function showToast(e){document.getElementById("snackbar").innerHTML=e;var t=document.getElementById("snackbar");t.className="show",setTimeout(function(){t.className=t.className.replace("show","")},3e3)}function Subregister(){document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000> </font> ";var e=document.getElementById("Subregisteremailid").value,t=document.getElementById("Subregisterusname").value,o=document.getElementById("Subregisterpassword").value,n=document.getElementById("Subregisterpasswordre").value,i="";if(""==t.trim())return i="Please provide your name",void(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> ");if(""==e.trim())return i="Please enter the email id",void(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> ");var d=e.indexOf("@"),a=e.lastIndexOf(".");if(d<1||a<d+2||a+2>=e.length)return i="Email id is not valid",void(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> ");if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e))return i="Email id is not valid",void(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> ");if(""==o.trim())return i="Please provide password with minimum 8 character length",void(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> ");if(o.length<8)return i="Please provide password with minimum 8 character length",void(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> ");if(o!=n)return i="Entered passwords do not match",void(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+i+"</font> ");$.ajax({url:"php/process.php",data:{usremail:e,usrpassword:o,usrfullname:t,usraddress:"",usrfunction:"register"},type:"POST",dataType:"JSON",success:function(e){"S"==e&&(document.getElementById("Subregistererrormsg").innerHTML="<font color = #0000>Registration completed successfully. Please check your email for account activation.</font> "),"F"==e&&(document.getElementById("Subregistererrormsg").innerHTML="There was a problem in completing registration. Issue has been logged and will be resolved soon. Please try again later"),"S"!=e&&"F"!=e&&(document.getElementById("Subregistererrormsg").innerHTML="<font color = #cc0000>"+e+"</font> ")},error:function(e,t,o){console.log(o),console.log(e),console.log(t),document.getElementById("Subregistererrormsg").innerHTML="There was a problem in completing registration. Issue has been logged and will be resolved soon. Please try again later"}})}function forgotpw(){document.getElementById("forgotpwerrormsg").innerHTML="<font color = #cc0000> </font> ";var e=document.getElementById("forgotpwemailid").value,t="";if(""==e.trim())return t="Please enter the email id",void(document.getElementById("forgotpwerrormsg").innerHTML="<font color = #cc0000>"+t+"</font> ");var o=e.indexOf("@"),n=e.lastIndexOf(".");return o<1||n<o+2||n+2>=e.length?(t="Email id is not valid",void(document.getElementById("forgotpwerrormsg").innerHTML="<font color = #cc0000>"+t+"</font> ")):/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void $.ajax({url:"php/process.php",data:{usremail:e,usrfunction:"forgotpw"},type:"POST",dataType:"JSON",success:function(e){"S"==e&&(document.getElementById("forgotpwerrormsg").innerHTML="<font color = #0000>Request processed. You should receive an email shortly with password reset link.</font> "),"F"==e&&(document.getElementById("forgotpwerrormsg").innerHTML="Email id not found"),"S"!=e&&"F"!=e&&(document.getElementById("forgotpwerrormsg").innerHTML="<font color = red>"+e+"</font> ")},error:function(e,t,o){console.log(o),console.log(e),console.log(t),document.getElementById("forgotpwerrormsg").innerHTML="There was a problem in completing the request. Issue has been logged and will be resolved soon. Please try again later"}}):(t="Email id is not valid",void(document.getElementById("forgotpwerrormsg").innerHTML="<font color = #cc0000>"+t+"</font> "))}function contactus(){document.getElementById("contactuserrormsg").innerHTML="<font color = #cc0000> </font> ";var e=document.getElementById("contactusemailid").value,t=document.getElementById("contactusname").value,o=document.getElementById("contactus_msg").value,n="";if(""==t.trim()&&(n+="Please provide your name"),""==e.trim())n+="<br>Please enter the email id";else if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)){var i=e.indexOf("@"),d=e.lastIndexOf(".");(i<1||d<i+2||d+2>=e.length)&&(n+="<br>Email id is not valid")}else n+="<br>Email id is not valid";""==o.trim()&&(n+="<br>Please provide message"),the.captcha!=document.getElementById("enteredCaptchaText").value&&("n"!=sessionStorage.getItem("userLoggedIn")&&"9"==sessionStorage.getItem("userLvl")||(n+="<br>Please enter displayed code in the box")),""==n?$.ajax({url:"php/process.php",data:{usrname:t,usremail:e,usrcomment:o,usrfunction:"contactus"},type:"POST",dataType:"json",success:function(e){document.getElementById("contactuserrormsg").innerHTML="<font color = #0000>Thank you for your message. We will get back to you shortly</font> "},error:function(e,t,o){console.log(o),console.log(e)}}):document.getElementById("contactuserrormsg").innerHTML="<font color = #cc0000>"+n+"</font> "}function onMobileBrowser(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function getCookie(e){var t=document.cookie,o=t.indexOf(" "+e+"=");if(-1==o&&(o=t.indexOf(e+"=")),-1==o)t=null;else{o=t.indexOf("=",o)+1;var n=t.indexOf(";",o);-1==n&&(n=t.length),t=unescape(t.substring(o,n))}return t}function setCookie(e,t,o){const n=new Date;n.setTime(n.getTime()+24*o*60*60*1e3);let i="expires="+n.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function logCommon(e){}